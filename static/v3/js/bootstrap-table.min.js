/* Bootstrap.min.js v3.3.6 */if("undefined"===typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(c){c=c.fn.jquery.split(" ")[0].split(".");if(2>c[0]&&9>c[1]||1==c[0]&&9==c[1]&&1>c[2]||2<c[0])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3");}(jQuery);+function(c){c.fn.emulateTransitionEnd=function(d){var e=!1,b=this;c(this).one("bsTransitionEnd",function(){e=!0});setTimeout(function(){e||c(b).trigger(c.support.transition.end)},d);return this};c(function(){var d=c.support,e;a:{e=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},a;for(a in b)if(void 0!==e.style[a]){e={end:b[a]};break a}e=!1}d.transition=e;c.support.transition&&(c.event.special.bsTransitionEnd={bindType:c.support.transition.end,delegateType:c.support.transition.end,handle:function(a){if(c(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(c){var d=function(b){c(b).on("click",'[data-dismiss="alert"]',this.close)};d.VERSION="3.3.6";d.TRANSITION_DURATION=150;d.prototype.close=function(b){function a(){h.detach().trigger("closed.bs.alert").remove()}var g=c(this),f=g.attr("data-target");f||(f=(f=g.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));var h=c(f);b&&b.preventDefault();h.length||(h=g.closest(".alert"));h.trigger(b=c.Event("close.bs.alert"));b.isDefaultPrevented()||(h.removeClass("in"),c.support.transition&&h.hasClass("fade")?h.one("bsTransitionEnd",a).emulateTransitionEnd(d.TRANSITION_DURATION):a())};var e=c.fn.alert;c.fn.alert=function(b){return this.each(function(){var a=c(this),g=a.data("bs.alert");g||a.data("bs.alert",g=new d(this));"string"==typeof b&&g[b].call(a)})};c.fn.alert.Constructor=d;c.fn.alert.noConflict=function(){c.fn.alert=e;return this};c(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',d.prototype.close)}(jQuery);+function(c){function d(a){return this.each(function(){var g=c(this),b=g.data("bs.button"),h="object"==typeof a&&a;b||g.data("bs.button",b=new e(this,h));"toggle"==a?b.toggle():a&&b.setState(a)})}var e=function(a,g){this.$element=c(a);this.options=c.extend({},e.DEFAULTS,g);this.isLoading=!1};e.VERSION="3.3.6";e.DEFAULTS={loadingText:"loading..."};e.prototype.setState=function(a){var g=this.$element,b=g.is("input")?"val":"html",h=g.data(),a=a+"Text";null==h.resetText&&g.data("resetText",g[b]());setTimeout(c.proxy(function(){g[b](null==h[a]?this.options[a]:h[a]);"loadingText"==a?(this.isLoading=!0,g.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,g.removeClass("disabled").removeAttr("disabled"))},this),0)};e.prototype.toggle=function(){var a=!0,g=this.$element.closest('[data-toggle="buttons"]');if(g.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),g.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active"));c.prop("checked",this.$element.hasClass("active"));a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var b=c.fn.button;c.fn.button=d;c.fn.button.Constructor=e;c.fn.button.noConflict=function(){c.fn.button=b;return this};c(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var g=c(a.target);g.hasClass("btn")||(g=g.closest(".btn"));d.call(g,"toggle");!c(a.target).is('input[type="radio"]')&&!c(a.target).is('input[type="checkbox"]')&&a.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){c(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(jQuery);+function(c){function d(a){return this.each(function(){var b=c(this),h=b.data("bs.carousel"),j=c.extend({},e.DEFAULTS,b.data(),"object"==typeof a&&a),d="string"==typeof a?a:j.slide;h||b.data("bs.carousel",h=new e(this,j));if("number"==typeof a)h.to(a);else if(d)h[d]();else j.interval&&h.pause().cycle()})}var e=function(a,b){this.$element=c(a);this.$indicators=this.$element.find(".carousel-indicators");this.options=b;this.$items=this.$active=this.interval=this.sliding=this.paused=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",c.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",c.proxy(this.pause,this)).on("mouseleave.bs.carousel",c.proxy(this.cycle,this))};e.VERSION="3.3.6";e.TRANSITION_DURATION=600;e.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};e.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}};e.prototype.cycle=function(a){a||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval));return this};e.prototype.getItemIndex=function(a){this.$items=a.parent().children(".item");return this.$items.index(a||this.$active)};e.prototype.getItemForDirection=function(a,c){var b=this.getItemIndex(c);return("prev"==a&&0===b||"next"==a&&b==this.$items.length-1)&&!this.options.wrap?c:this.$items.eq((b+("prev"==a?-1:1))%this.$items.length)};e.prototype.to=function(a){var c=this,b=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||0>a))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(a)}):b==a?this.pause().cycle():this.slide(a>b?"next":"prev",this.$items.eq(a))};e.prototype.pause=function(a){a||(this.paused=!0);this.$element.find(".next, .prev").length&&c.support.transition&&(this.$element.trigger(c.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);return this};e.prototype.next=function(){if(!this.sliding)return this.slide("next")};e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};e.prototype.slide=function(a,b){var h=this.$element.find(".item.active"),j=b||this.getItemForDirection(a,h),d=this.interval,i="next"==a?"left":"right",l=this;if(j.hasClass("active"))return this.sliding=!1;var n=j[0],m=c.Event("slide.bs.carousel",{relatedTarget:n,direction:i});this.$element.trigger(m);if(!m.isDefaultPrevented()){this.sliding=!0;d&&this.pause();this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(m=c(this.$indicators.children()[this.getItemIndex(j)]))&&m.addClass("active"));var p=c.Event("slid.bs.carousel",{relatedTarget:n,direction:i});c.support.transition&&this.$element.hasClass("slide")?(j.addClass(a),j[0].offsetWidth,h.addClass(i),j.addClass(i),h.one("bsTransitionEnd",function(){j.removeClass([a,i].join(" ")).addClass("active");h.removeClass(["active",i].join(" "));l.sliding=!1;setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(h.removeClass("active"),j.addClass("active"),this.sliding=!1,this.$element.trigger(p));d&&this.cycle();return this}};var b=c.fn.carousel;c.fn.carousel=d;c.fn.carousel.Constructor=e;c.fn.carousel.noConflict=function(){c.fn.carousel=b;return this};var a=function(a){var b,h=c(this),j=c(h.attr("data-target")||(b=h.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,""));if(j.hasClass("carousel")){b=c.extend({},j.data(),h.data());if(h=h.attr("data-slide-to"))b.interval=!1;d.call(j,b);h&&j.data("bs.carousel").to(h);a.preventDefault()}};c(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a);c(window).on("load",function(){c('[data-ride="carousel"]').each(function(){var a=c(this);d.call(a,a.data())})})}(jQuery);+function(c){function d(a){var b,a=a.attr("data-target")||(b=a.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"");return c(a)}function e(a){return this.each(function(){var f=c(this),h=f.data("bs.collapse"),j=c.extend({},b.DEFAULTS,f.data(),"object"==typeof a&&a);!h&&(j.toggle&&/show|hide/.test(a))&&(j.toggle=!1);h||f.data("bs.collapse",h=new b(this,j));if("string"==typeof a)h[a]()})}var b=function(a,f){this.$element=c(a);this.options=c.extend({},b.DEFAULTS,f);this.$trigger=c('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};b.VERSION="3.3.6";b.TRANSITION_DURATION=350;b.DEFAULTS={toggle:!0};b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,f=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(f&&f.length&&(a=f.data("bs.collapse"))&&a.transitioning)return;var h=c.Event("show.bs.collapse");this.$element.trigger(h);if(!h.isDefaultPrevented()){f&&f.length&&(e.call(f,"hide"),a||f.data("bs.collapse",null));var j=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[j](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[j]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!c.support.transition)return a.call(this);f=c.camelCase(["scroll",j].join("-"));this.$element.one("bsTransitionEnd",c.proxy(a,this)).emulateTransitionEnd(b.TRANSITION_DURATION)[j](this.$element[0][f])}}};b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=c.Event("hide.bs.collapse");this.$element.trigger(a);if(!a.isDefaultPrevented()){a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var f=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!c.support.transition)return f.call(this);this.$element[a](0).one("bsTransitionEnd",c.proxy(f,this)).emulateTransitionEnd(b.TRANSITION_DURATION)}}};b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};b.prototype.getParent=function(){return c(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(c.proxy(function(a,b){var h=c(b);this.addAriaAndCollapsedClass(d(h),h)},this)).end()};b.prototype.addAriaAndCollapsedClass=function(a,c){var b=a.hasClass("in");a.attr("aria-expanded",b);c.toggleClass("collapsed",!b).attr("aria-expanded",b)};var a=c.fn.collapse;c.fn.collapse=e;c.fn.collapse.Constructor=b;c.fn.collapse.noConflict=function(){c.fn.collapse=a;return this};c(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var b=c(this);b.attr("data-target")||a.preventDefault();a=d(b);b=a.data("bs.collapse")?"toggle":b.data();e.call(a,b)})}(jQuery);+function(c){function d(a){var b=a.attr("data-target");b||(b=(b=a.attr("href"))&&/#[A-Za-z]/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));return(b=b&&c(b))&&b.length?b:a.parent()}function e(g){g&&3===g.which||(c(b).remove(),c(a).each(function(){var a=c(this),b=d(a),f={relatedTarget:this};if(b.hasClass("open")&&(!g||!("click"==g.type&&/input|textarea/i.test(g.target.tagName)&&c.contains(b[0],g.target))))b.trigger(g=c.Event("hide.bs.dropdown",f)),g.isDefaultPrevented()||(a.attr("aria-expanded","false"),b.removeClass("open").trigger(c.Event("hidden.bs.dropdown",f)))}))}var b=".dropdown-backdrop",a='[data-toggle="dropdown"]',g=function(a){c(a).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6";g.prototype.toggle=function(a){var b=c(this);if(!b.is(".disabled, :disabled")){var g=d(b),a=g.hasClass("open");e();if(!a){if("ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length)c(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(c(this)).on("click",e);var f={relatedTarget:this};g.trigger(a=c.Event("show.bs.dropdown",f));if(a.isDefaultPrevented())return;b.trigger("focus").attr("aria-expanded","true");g.toggleClass("open").trigger(c.Event("shown.bs.dropdown",f))}return!1}};g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var g=c(this);b.preventDefault();b.stopPropagation();if(!g.is(".disabled, :disabled")){var f=d(g),e=f.hasClass("open");if(!e&&27!=b.which||e&&27==b.which)return 27==b.which&&f.find(a).trigger("focus"),g.trigger("click");g=f.find(".dropdown-menu li:not(.disabled):visible a");g.length&&(f=g.index(b.target),38==b.which&&0<f&&f--,40==b.which&&f<g.length-1&&f++,~f||(f=0),g.eq(f).trigger("focus"))}}};var f=c.fn.dropdown;c.fn.dropdown=function(a){return this.each(function(){var b=c(this),f=b.data("bs.dropdown");f||b.data("bs.dropdown",f=new g(this));"string"==typeof a&&f[a].call(b)})};c.fn.dropdown.Constructor=g;c.fn.dropdown.noConflict=function(){c.fn.dropdown=f;return this};c(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",a,g.prototype.toggle).on("keydown.bs.dropdown.data-api",a,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery);+function(c){function d(a,b){return this.each(function(){var f=c(this),h=f.data("bs.modal"),d=c.extend({},e.DEFAULTS,f.data(),"object"==typeof a&&a);h||f.data("bs.modal",h=new e(this,d));if("string"==typeof a)h[a](b);else d.show&&h.show(b)})}var e=function(a,b){this.options=b;this.$body=c(document.body);this.$element=c(a);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,c.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.VERSION="3.3.6";e.TRANSITION_DURATION=300;e.BACKDROP_TRANSITION_DURATION=150;e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};e.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};e.prototype.show=function(a){var b=this,f=c.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(f);!this.isShown&&!f.isDefaultPrevented()&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){b.$element.one("mouseup.dismiss.bs.modal",function(a){c(a.target).is(b.$element)&&(b.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=c.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(b.$body);b.$element.show().scrollTop(0);b.adjustDialog();f&&b.$element[0].offsetWidth;b.$element.addClass("in");b.enforceFocus();var d=c.Event("shown.bs.modal",{relatedTarget:a});f?b.$dialog.one("bsTransitionEnd",function(){b.$element.trigger("focus").trigger(d)}).emulateTransitionEnd(e.TRANSITION_DURATION):b.$element.trigger("focus").trigger(d)}))};e.prototype.hide=function(a){a&&a.preventDefault();a=c.Event("hide.bs.modal");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",c.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())};e.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.trigger("focus")},this))};e.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",c.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};e.prototype.resize=function(){if(this.isShown)c(window).on("resize.bs.modal",c.proxy(this.handleUpdate,this));else c(window).off("resize.bs.modal")};e.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};e.prototype.backdrop=function(a){var b=this,f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=c.support.transition&&f;this.$backdrop=c(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",c.proxy(function(a){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this));h&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");a&&(h?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):a())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),f=function(){b.removeBackdrop();a&&a()},c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):f()):a&&a()};e.prototype.handleUpdate=function(){this.adjustDialog()};e.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""});a=c(this.$element[0]).find(".modal-dialog");a.css({"margin-left":-a.width()/2+"px"});a.css({"margin-top":-a.height()/2+"px"})};e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};e.prototype.checkScrollbar=function(){var a=window.innerWidth;a||(a=document.documentElement.getBoundingClientRect(),a=a.right-Math.abs(a.left));this.bodyIsOverflowing=document.body.clientWidth<a;this.scrollbarWidth=this.measureScrollbar()};e.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};e.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var b=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return b};var b=c.fn.modal;c.fn.modal=d;c.fn.modal.Constructor=e;c.fn.modal.noConflict=function(){c.fn.modal=b;return this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var b=c(this),f=b.attr("href"),h=c(b.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),f=h.data("bs.modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},h.data(),b.data());b.is("a")&&a.preventDefault();h.one("show.bs.modal",function(a){if(!a.isDefaultPrevented())h.one("hidden.bs.modal",function(){b.is(":visible")&&b.trigger("focus")})});d.call(h,f,this)})}(jQuery);+function(c){var d=function(b,a){this.inState=this.$element=this.hoverState=this.timeout=this.enabled=this.options=this.type=null;this.init("tooltip",b,a)};d.VERSION="3.3.6";d.TRANSITION_DURATION=150;d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};d.prototype.init=function(b,a,g){this.enabled=!0;this.type=b;this.$element=c(a);this.options=this.getOptions(g);this.$viewport=this.options.viewport&&c(c.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:!1,hover:!1,focus:!1};if(this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");b=this.options.trigger.split(" ");for(a=b.length;a--;)if(g=b[a],"click"==g)this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this));else if("manual"!=g){var f="hover"==g?"mouseleave":"focusout";this.$element.on(("hover"==g?"mouseenter":"focusin")+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(f+"."+this.type,this.options.selector,c.proxy(this.leave,this))}this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};d.prototype.getDefaults=function(){return d.DEFAULTS};d.prototype.getOptions=function(b){b=c.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};d.prototype.getDelegateOptions=function(){var b={},a=this.getDefaults();this._options&&c.each(this._options,function(c,f){a[c]!=f&&(b[c]=f)});return b};d.prototype.enter=function(b){var a=b instanceof this.constructor?b:c(b.currentTarget).data("bs."+this.type);a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,a));b instanceof c.Event&&(a.inState["focusin"==b.type?"focus":"hover"]=!0);if(a.tip().hasClass("in")||"in"==a.hoverState)a.hoverState="in";else{clearTimeout(a.timeout);a.hoverState="in";if(!a.options.delay||!a.options.delay.show)return a.show();a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)}};d.prototype.isInStateTrue=function(){for(var b in this.inState)if(this.inState[b])return!0;return!1};d.prototype.leave=function(b){var a=b instanceof this.constructor?b:c(b.currentTarget).data("bs."+this.type);a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,a));b instanceof c.Event&&(a.inState["focusout"==b.type?"focus":"hover"]=!1);if(!a.isInStateTrue()){clearTimeout(a.timeout);a.hoverState="out";if(!a.options.delay||!a.options.delay.hide)return a.hide();a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)}};d.prototype.show=function(){var b=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var a=c.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!b.isDefaultPrevented()&&a){var g=this,b=this.tip(),a=this.getUID(this.type);this.setContent();b.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&b.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,h=f.test(a);h&&(a=a.replace(f,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this);this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),e=b[0].offsetWidth,k=b[0].offsetHeight;if(h){var h=a,i=this.getPosition(this.$viewport),a="bottom"==a&&f.bottom+k>i.bottom?"top":"top"==a&&f.top-k<i.top?"bottom":"right"==a&&f.right+e>i.width?"left":"left"==a&&f.left-e<i.left?"right":a;b.removeClass(h).addClass(a)}f=this.getCalculatedOffset(a,f,e,k);this.applyPlacement(f,a);a=function(){var a=g.hoverState;g.$element.trigger("shown.bs."+g.type);g.hoverState=null;"out"==a&&g.leave(g)};c.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",a).emulateTransitionEnd(d.TRANSITION_DURATION):a()}}};d.prototype.applyPlacement=function(b,a){var g=this.tip(),f=g[0].offsetWidth,h=g[0].offsetHeight,d=parseInt(g.css("margin-top"),10),e=parseInt(g.css("margin-left"),10);isNaN(d)&&(d=0);isNaN(e)&&(e=0);b.top+=d;b.left+=e;c.offset.setOffset(g[0],c.extend({using:function(a){g.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0);g.addClass("in");var e=g[0].offsetWidth,i=g[0].offsetHeight;"top"==a&&i!=h&&(b.top=b.top+h-i);var l=this.getViewportAdjustedDelta(a,b,e,i);l.left?b.left+=l.left:b.top+=l.top;f=(d=/top|bottom/.test(a))?2*l.left-f+e:2*l.top-h+i;h=d?"offsetWidth":"offsetHeight";g.offset(b);this.replaceArrow(f,g[0][h],d)};d.prototype.replaceArrow=function(b,a,c){this.arrow().css(c?"left":"top",50*(1-b/a)+"%").css(c?"top":"left","")};d.prototype.setContent=function(){var b=this.tip(),a=this.getTitle();b.find(".tooltip-inner")[this.options.html?"html":"text"](a);b.removeClass("fade in top bottom left right")};d.prototype.hide=function(b){function a(){"in"!=g.hoverState&&f.detach();g.$element.removeAttr("aria-describedby").trigger("hidden.bs."+g.type);b&&b()}var g=this,f=c(this.$tip),h=c.Event("hide.bs."+this.type);this.$element.trigger(h);if(!h.isDefaultPrevented())return f.removeClass("in"),c.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",a).emulateTransitionEnd(d.TRANSITION_DURATION):a(),this.hoverState=null,this};d.prototype.fixTitle=function(){var b=this.$element;if(b.attr("title")||"string"!=typeof b.attr("data-original-title"))b.attr("data-original-title",b.attr("title")||"").attr("title","")};d.prototype.hasContent=function(){return this.getTitle()};d.prototype.getPosition=function(b){var b=b||this.$element,a=b[0],g="BODY"==a.tagName,a=a.getBoundingClientRect();null==a.width&&(a=c.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var f=g?{top:0,left:0}:b.offset(),b={scroll:g?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},g=g?{width:c(window).width(),height:c(window).height()}:null;return c.extend({},a,b,g,f)};d.prototype.getCalculatedOffset=function(b,a,c,f){return"bottom"==b?{top:a.top+a.height,left:a.left+a.width/2-c/2}:"top"==b?{top:a.top-f,left:a.left+a.width/2-c/2}:"left"==b?{top:a.top+a.height/2-f/2,left:a.left-c}:{top:a.top+a.height/2-f/2,left:a.left+a.width}};d.prototype.getViewportAdjustedDelta=function(b,a,c,f){var h={top:0,left:0};if(!this.$viewport)return h;var d=this.options.viewport&&this.options.viewport.padding||0,e=this.getPosition(this.$viewport);/right|left/.test(b)?(c=a.top-d-e.scroll,a=a.top+d-e.scroll+f,c<e.top?h.top=e.top-c:a>e.top+e.height&&(h.top=e.top+e.height-a)):(f=a.left-d,a=a.left+d+c,f<e.left?h.left=e.left-f:a>e.right&&(h.left=e.left+e.width-a));return h};d.prototype.getTitle=function(){var b=this.$element,a=this.options;return b.attr("data-original-title")||("function"==typeof a.title?a.title.call(b[0]):a.title)};d.prototype.getUID=function(b){do b+=~~(1E6*Math.random());while(document.getElementById(b));return b};d.prototype.tip=function(){if(!this.$tip&&(this.$tip=c(this.options.template),1!=this.$tip.length))throw Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};d.prototype.enable=function(){this.enabled=!0};d.prototype.disable=function(){this.enabled=!1};d.prototype.toggleEnabled=function(){this.enabled=!this.enabled};d.prototype.toggle=function(b){var a=this;b&&(a=c(b.currentTarget).data("bs."+this.type),a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,a)));b?(a.inState.click=!a.inState.click,a.isInStateTrue()?a.enter(a):a.leave(a)):a.tip().hasClass("in")?a.leave(a):a.enter(a)};d.prototype.destroy=function(){var b=this;clearTimeout(this.timeout);this.hide(function(){b.$element.off("."+b.type).removeData("bs."+b.type);b.$tip&&b.$tip.detach();b.$tip=null;b.$arrow=null;b.$viewport=null})};var e=c.fn.tooltip;c.fn.tooltip=function(b){return this.each(function(){var a=c(this),g=a.data("bs.tooltip"),f="object"==typeof b&&b;if(g||!/destroy|hide/.test(b))if(g||a.data("bs.tooltip",g=new d(this,f)),"string"==typeof b)g[b]()})};c.fn.tooltip.Constructor=d;c.fn.tooltip.noConflict=function(){c.fn.tooltip=e;return this}}(jQuery);+function(c){var d=function(b,a){this.init("popover",b,a)};if(!c.fn.tooltip)throw Error("Popover requires tooltip.js");d.VERSION="3.3.6";d.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});d.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);d.prototype.constructor=d;d.prototype.getDefaults=function(){return d.DEFAULTS};d.prototype.setContent=function(){var b=this.tip(),a=this.getTitle(),c=this.getContent();b.find(".popover-title")[this.options.html?"html":"text"](a);b.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c);b.removeClass("fade top bottom left right in");b.find(".popover-title").html()||b.find(".popover-title").hide()};d.prototype.hasContent=function(){return this.getTitle()||this.getContent()};d.prototype.getContent=function(){var b=this.$element,a=this.options;return b.attr("data-content")||("function"==typeof a.content?a.content.call(b[0]):a.content)};d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=c.fn.popover;c.fn.popover=function(b){return this.each(function(){var a=c(this),g=a.data("bs.popover"),f="object"==typeof b&&b;if(g||!/destroy|hide/.test(b))if(g||a.data("bs.popover",g=new d(this,f)),"string"==typeof b)g[b]()})};c.fn.popover.Constructor=d;c.fn.popover.noConflict=function(){c.fn.popover=e;return this}}(jQuery);+function(c){function d(a,b){this.$body=c(document.body);this.$scrollElement=c(a).is(document.body)?c(window):c(a);this.options=c.extend({},d.DEFAULTS,b);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",c.proxy(this.process,this));this.refresh();this.process()}function e(a){return this.each(function(){var b=c(this),f=b.data("bs.scrollspy"),e="object"==typeof a&&a;f||b.data("bs.scrollspy",f=new d(this,e));if("string"==typeof a)f[a]()})}d.VERSION="3.3.6";d.DEFAULTS={offset:10};d.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};d.prototype.refresh=function(){var a=this,b="offset",f=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();c.isWindow(this.$scrollElement[0])||(b="position",f=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var a=c(this),a=a.data("target")||a.attr("href"),e=/^#./.test(a)&&c(a);return e&&e.length&&e.is(":visible")&&[[e[b]().top+f,a]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){a.offsets.push(this[0]);a.targets.push(this[1])})};d.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),c=this.options.offset+b-this.$scrollElement.height(),e=this.offsets,d=this.targets,k=this.activeTarget,i;this.scrollHeight!=b&&this.refresh();if(a>=c)return k!=(i=d[d.length-1])&&this.activate(i);if(k&&a<e[0])return this.activeTarget=null,this.clear();for(i=e.length;i--;)k!=d[i]&&a>=e[i]&&(void 0===e[i+1]||a<e[i+1])&&this.activate(d[i])};d.prototype.activate=function(a){this.activeTarget=a;this.clear();a=c(this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]').parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active"));a.trigger("activate.bs.scrollspy")};d.prototype.clear=function(){c(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var b=c.fn.scrollspy;c.fn.scrollspy=e;c.fn.scrollspy.Constructor=d;c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=b;return this};c(window).on("load.bs.scrollspy.data-api",function(){c('[data-spy="scroll"]').each(function(){var a=c(this);e.call(a,a.data())})})}(jQuery);+function(c){function d(a){return this.each(function(){var b=c(this),d=b.data("bs.tab");d||b.data("bs.tab",d=new e(this));if("string"==typeof a)d[a]()})}var e=function(a){this.element=c(a)};e.VERSION="3.3.6";e.TRANSITION_DURATION=150;e.prototype.show=function(){var a=this.element,b=a.closest("ul:not(.dropdown-menu)"),e=a.data("target");e||(e=(e=a.attr("href"))&&e.replace(/.*(?=#[^\s]*$)/,""));if(!a.parent("li").hasClass("active")){var d=b.find(".active:last a"),k=c.Event("hide.bs.tab",{relatedTarget:a[0]}),i=c.Event("show.bs.tab",{relatedTarget:d[0]});d.trigger(k);a.trigger(i);!i.isDefaultPrevented()&&!k.isDefaultPrevented()&&(e=c(e),this.activate(a.closest("li"),b),this.activate(e,e.parent(),function(){d.trigger({type:"hidden.bs.tab",relatedTarget:a[0]});a.trigger({type:"shown.bs.tab",relatedTarget:d[0]})}))}};e.prototype.activate=function(a,b,d){function j(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);i?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);d&&d()}var k=b.find("> .active"),i=d&&c.support.transition&&(k.length&&k.hasClass("fade")||!!b.find("> .fade").length);k.length&&i?k.one("bsTransitionEnd",j).emulateTransitionEnd(e.TRANSITION_DURATION):j();k.removeClass("in")};var b=c.fn.tab;c.fn.tab=d;c.fn.tab.Constructor=e;c.fn.tab.noConflict=function(){c.fn.tab=b;return this};var a=function(a){a.preventDefault();d.call(c(this),"show")};c(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery);+function(c){function d(a){return this.each(function(){var b=c(this),f=b.data("bs.affix"),d="object"==typeof a&&a;f||b.data("bs.affix",f=new e(this,d));if("string"==typeof a)f[a]()})}var e=function(a,b){this.options=c.extend({},e.DEFAULTS,b);this.$target=c(this.options.target).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this));this.$element=c(a);this.pinnedOffset=this.unpin=this.affixed=null;this.checkPosition()};e.VERSION="3.3.6";e.RESET="affix affix-top affix-bottom";e.DEFAULTS={offset:0,target:window};e.prototype.getState=function(a,b,c,e){var d=this.$target.scrollTop(),k=this.$element.offset(),i=this.$target.height();if(null!=c&&"top"==this.affixed)return d<c?"top":!1;if("bottom"==this.affixed)return null!=c?d+this.unpin<=k.top?!1:"bottom":d+i<=a-e?!1:"bottom";var l=null==this.affixed,k=l?d:k.top;return null!=c&&d<=c?"top":null!=e&&k+(l?i:b)>=a-e?"bottom":!1};e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};e.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=this.$element.height(),b=this.options.offset,d=b.top,h=b.bottom,j=Math.max(c(document).height(),c(document.body).height());"object"!=typeof b&&(h=d=b);"function"==typeof d&&(d=b.top(this.$element));"function"==typeof h&&(h=b.bottom(this.$element));b=this.getState(j,a,d,h);if(this.affixed!=b){null!=this.unpin&&this.$element.css("top","");var d="affix"+(b?"-"+b:""),k=c.Event(d+".bs.affix");this.$element.trigger(k);if(k.isDefaultPrevented())return;this.affixed=b;this.unpin="bottom"==b?this.getPinnedOffset():null;this.$element.removeClass(e.RESET).addClass(d).trigger(d.replace("affix","affixed")+".bs.affix")}"bottom"==b&&this.$element.offset({top:j-a-h})}};var b=c.fn.affix;c.fn.affix=d;c.fn.affix.Constructor=e;c.fn.affix.noConflict=function(){c.fn.affix=b;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var a=c(this),b=a.data();b.offset=b.offset||{};null!=b.offsetBottom&&(b.offset.bottom=b.offsetBottom);null!=b.offsetTop&&(b.offset.top=b.offsetTop);d.call(a,b)})})}(jQuery);
/* bootstrap-table - v1.10.1 */!function(a){"use strict";var q,b=null,c=function(a){var b=arguments,c=!0,d=1;return a=a.replace(/%s/g,function(){var a=b[d++];return"undefined"==typeof a?(c=!1,""):a}),c?a:""},d=function(b,c,d,e){var f="";return a.each(b,function(a,b){return b[c]===e?(f=b[d],!1):!0}),f},e=function(b,c){var d=-1;return a.each(b,function(a,b){return b.field===c?(d=a,!1):!0}),d},f=function(b){var c,d,e,h,i,j,k,f=0,g=[];for(c=0;c<b[0].length;c++)f+=b[0][c].colspan||1;for(c=0;c<b.length;c++)for(g[c]=[],d=0;f>d;d++)g[c][d]=!1;for(c=0;c<b.length;c++)for(d=0;d<b[c].length;d++){for(h=b[c][d],i=h.rowspan||1,j=h.colspan||1,k=a.inArray(!1,g[c]),1===j&&(h.fieldIndex=k,"undefined"==typeof h.field&&(h.field=k)),e=0;i>e;e++)g[c+e][k]=!0;for(e=0;j>e;e++)g[c][k+e]=!0}},g=function(){if(null===b){var e,f,c=a("<p/>").addClass("fixed-table-scroll-inner"),d=a("<div/>").addClass("fixed-table-scroll-outer");d.append(c),a("body").append(d),e=c[0].offsetWidth,d.css("overflow","scroll"),f=c[0].offsetWidth,e===f&&(f=d[0].clientWidth),d.remove(),b=e-f}return b},h=function(b,d,e,f){var h,g=d;return"string"==typeof d&&(h=d.split("."),h.length>1?(g=window,a.each(h,function(a,b){g=g[b]})):g=window[d]),"object"==typeof g?g:"function"==typeof g?g.apply(b,e):!g&&"string"==typeof d&&c.apply(this,[d].concat(e))?c.apply(this,[d].concat(e)):f},i=function(b,c,d){var h,e=Object.getOwnPropertyNames(b),f=Object.getOwnPropertyNames(c),g="";if(d&&e.length!==f.length)return!1;for(h=0;h<e.length;h++)if(g=e[h],a.inArray(g,f)>-1&&b[g]!==c[g])return!1;return!0},j=function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):a},k=function(b){var c=0;return b.children().each(function(){c<a(this).outerHeight(!0)&&(c=a(this).outerHeight(!0))}),c},l=function(a){var b,c;for(b in a)c=b.split(/(?=[A-Z])/).join("-").toLowerCase(),c!==b&&(a[c]=a[b],delete a[b]);return a},m=function(a,b,c){var e,f,d=a;if("string"!=typeof b||a.hasOwnProperty(b))return c?j(a[b]):a[b];e=b.split(".");for(f in e)d=d&&d[e[f]];return c?j(d):d},n=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},o=function(){Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var g,h,f=[];for(g in e)a.call(e,g)&&f.push(g);if(b)for(h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}())},p=function(b,c){this.options=c,this.$el=a(b),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};p.DEFAULTS={classes:"table table-hover",locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",sortStable:!1,striped:!1,columns:[[]],data:[],dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(a){return a},queryParamsType:"limit",responseHandler:function(a){return a},pagination:!1,onlyInfoPagination:!1,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:a.noop,customSort:a.noop,rowStyle:function(){return{}},rowAttributes:function(){return{}},footerStyle:function(){return{}},onAll:function(){return!1},onClickCell:function(){return!1},onDblClickCell:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onCheckSome:function(){return!1},onUncheckSome:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onToggle:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(){return!1},onCollapseRow:function(){return!1},onRefreshOptions:function(){return!1},onRefresh:function(){return!1},onResetView:function(){return!1}},p.LOCALES=[],p.LOCALES["en-US"]=p.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(a){return c("%s rows per page",a)},formatShowingRows:function(a,b,d){return c("Showing %s to %s of %s rows",a,b,d)},formatDetailPagination:function(a){return c("Showing %s rows",a)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},a.extend(p.DEFAULTS,p.LOCALES["en-US"]),p.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,"class":void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0},p.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"},p.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},p.prototype.initLocale=function(){if(this.options.locale){var b=this.options.locale.split(/-|_/);b[0].toLowerCase(),b[1]&&b[1].toUpperCase(),a.fn.bootstrapTable.locales[this.options.locale]?a.extend(this.options,a.fn.bootstrapTable.locales[this.options.locale]):a.fn.bootstrapTable.locales[b.join("-")]?a.extend(this.options,a.fn.bootstrapTable.locales[b.join("-")]):a.fn.bootstrapTable.locales[b[0]]&&a.extend(this.options,a.fn.bootstrapTable.locales[b[0]])}},p.prototype.initContainer=function(){this.$container=a(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),-1!==a.inArray("table-no-bordered",this.options.classes.split(" "))&&this.$tableContainer.addClass("table-no-bordered")},p.prototype.initTable=function(){var e,b=this,c=[],d=[];this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=a("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var b=[];a(this).find("th").each(function(){"undefined"!=typeof a(this).data("field")&&a(this).data("field",a(this).data("field")+""),b.push(a.extend({},{title:a(this).html(),"class":a(this).attr("class"),titleTooltip:a(this).attr("title"),rowspan:a(this).attr("rowspan")?+a(this).attr("rowspan"):void 0,colspan:a(this).attr("colspan")?+a(this).attr("colspan"):void 0},a(this).data()))}),c.push(b)}),a.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=a.extend(!0,[],c,this.options.columns),this.columns=[],f(this.options.columns),a.each(this.options.columns,function(c,d){a.each(d,function(d,e){e=a.extend({},p.COLUMN_DEFAULTS,e),"undefined"!=typeof e.fieldIndex&&(b.columns[e.fieldIndex]=e),b.options.columns[c][d]=e})}),this.options.data.length||(e=[],this.$el.find(">tbody>tr").each(function(c){var f={};f._id=a(this).attr("id"),f._class=a(this).attr("class"),f._data=l(a(this).data()),a(this).find(">td").each(function(d){for(var j,k,m,g=a(this),h=+g.attr("colspan")||1,i=+g.attr("rowspan")||1;e[c]&&e[c][d];d++);for(j=d;d+h>j;j++)for(k=c;c+i>k;k++)e[k]||(e[k]=[]),e[k][j]=!0;m=b.columns[d].field,f[m]=a(this).html(),f["_"+m+"_id"]=a(this).attr("id"),f["_"+m+"_class"]=a(this).attr("class"),f["_"+m+"_rowspan"]=a(this).attr("rowspan"),f["_"+m+"_colspan"]=a(this).attr("colspan"),f["_"+m+"_title"]=a(this).attr("title"),f["_"+m+"_data"]=l(a(this).data())}),d.push(f)}),this.options.data=d,d.length&&(this.fromHtml=!0))},p.prototype.initHeader=function(){var b=this,d={},e=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},a.each(this.options.columns,function(f,g){e.push("<tr>"),0===f&&!b.options.cardView&&b.options.detailView&&e.push(c('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',b.options.columns.length)),a.each(g,function(a,f){var g="",h="",i="",j="",k=c(' class="%s"',f["class"]),m=(b.options.sortOrder||f.order,"px"),n=f.width;if(void 0===f.width||b.options.cardView||"string"==typeof f.width&&-1!==f.width.indexOf("%")&&(m="%"),f.width&&"string"==typeof f.width&&(n=f.width.replace("%","").replace("px","")),h=c("text-align: %s; ",f.halign?f.halign:f.align),i=c("text-align: %s; ",f.align),j=c("vertical-align: %s; ",f.valign),j+=c("width: %s; ",!f.checkbox&&!f.radio||n?n?n+m:void 0:"36px"),"undefined"!=typeof f.fieldIndex){if(b.header.fields[f.fieldIndex]=f.field,b.header.styles[f.fieldIndex]=i+j,b.header.classes[f.fieldIndex]=k,b.header.formatters[f.fieldIndex]=f.formatter,b.header.events[f.fieldIndex]=f.events,b.header.sorters[f.fieldIndex]=f.sorter,b.header.sortNames[f.fieldIndex]=f.sortName,b.header.cellStyles[f.fieldIndex]=f.cellStyle,b.header.searchables[f.fieldIndex]=f.searchable,!f.visible)return;if(b.options.cardView&&!f.cardVisible)return;d[f.field]=f}e.push("<th"+c(' title="%s"',f.titleTooltip),f.checkbox||f.radio?c(' class="bs-checkbox %s"',f["class"]||""):k,c(' style="%s"',h+j),c(' rowspan="%s"',f.rowspan),c(' colspan="%s"',f.colspan),c(' data-field="%s"',f.field),"tabindex='0'",">"),e.push(c('<div class="th-inner %s">',b.options.sortable&&f.sortable?"sortable both":"")),g=f.title,f.checkbox&&(!b.options.singleSelect&&b.options.checkboxHeader&&(g='<input name="btSelectAll" type="checkbox" />'),b.header.stateField=f.field),f.radio&&(g="",b.header.stateField=f.field,b.options.singleSelect=!0),e.push(g),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}),e.push("</tr>")}),this.$header.html(e.join("")),this.$header.find("th[data-field]").each(function(){a(this).data(d[a(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(c){var d=a(this);return b.options.detailView&&d.closest(".bootstrap-table")[0]!==b.$container[0]?!1:(b.options.sortable&&d.parent().data().sortable&&b.onSort(c),void 0)}),this.$header.children().children().off("keypress").on("keypress",function(c){if(b.options.sortable&&a(this).data().sortable){var d=c.keyCode||c.which;13==d&&b.onSort(c)}}),a(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),a(window).on("resize.bootstrap-table",a.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(){var c=a(this).prop("checked");b[c?"checkAll":"uncheckAll"](),b.updateSelected()})},p.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},p.prototype.initData=function(a,b){this.data="append"===b?this.data.concat(a):"prepend"===b?[].concat(a).concat(this.data):a||this.options.data,this.options.data="append"===b?this.options.data.concat(a):"prepend"===b?[].concat(a).concat(this.options.data):this.data,"server"!==this.options.sidePagination&&this.initSort()},p.prototype.initSort=function(){var b=this,c=this.options.sortName,d="desc"===this.options.sortOrder?-1:1,e=a.inArray(this.options.sortName,this.header.fields);return this.options.customSort!==a.noop?(this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]),void 0):(-1!==e&&(this.options.sortStable&&a.each(this.data,function(a,b){b.hasOwnProperty("_position")||(b._position=a)}),this.data.sort(function(f,g){b.header.sortNames[e]&&(c=b.header.sortNames[e]);var i=m(f,c,b.options.escape),j=m(g,c,b.options.escape),k=h(b.header,b.header.sorters[e],[i,j]);return void 0!==k?d*k:((void 0===i||null===i)&&(i=""),(void 0===j||null===j)&&(j=""),b.options.sortStable&&i===j&&(i=f._position,j=g._position),a.isNumeric(i)&&a.isNumeric(j)?(i=parseFloat(i),j=parseFloat(j),j>i?-1*d:d):i===j?0:("string"!=typeof i&&(i=i.toString()),-1===i.localeCompare(j)?-1*d:d))})),void 0)},p.prototype.onSort=function(b){var c="keypress"===b.type?a(b.currentTarget):a(b.currentTarget).parent(),d=this.$header.find("th").eq(c.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===c.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=c.data("field"),this.options.sortOrder="asc"===c.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),c.add(d).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?(this.initServer(this.options.silentSort),void 0):(this.initSort(),this.initBody(),void 0)},p.prototype.initToolbar=function(){var f,g,b=this,d=[],e=0,i=0;this.$toolbar.find(".bs-bars").children().length&&a("body").append(a(this.options.toolbar)),this.$toolbar.html(""),("string"==typeof this.options.toolbar||"object"==typeof this.options.toolbar)&&a(c('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(a(this.options.toolbar)),d=[c('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=h(null,this.options.icons)),this.options.showPaginationSwitch&&d.push(c('<button class="btn'+c(" btn-%s",this.options.buttonsClass)+'" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&d.push(c('<button class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&d.push(c('<button class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(d.push(c('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),a.each(this.columns,function(a,e){if(!(e.radio||e.checkbox||b.options.cardView&&!e.cardVisible)){var f=e.visible?' checked="checked"':"";e.switchable&&(d.push(c('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',e.field,a,f,e.title)),i++)}}),d.push("</ul>","</div>")),d.push("</div>"),(this.showToolbar||d.length>2)&&this.$toolbar.append(d.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",a.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",a.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){b.toggleView()}),this.options.showColumns&&(f=this.$toolbar.find(".keep-open"),i<=this.options.minimumCountColumns&&f.find("input").prop("disabled",!0),f.find("li").off("click").on("click",function(a){a.stopImmediatePropagation()}),f.find("input").off("click").on("click",function(){var c=a(this);b.toggleColumn(a(this).val(),c.prop("checked"),!1),b.trigger("column-switch",a(this).data("field"),c.prop("checked"))})),this.options.search&&(d=[],d.push('<div class="pull-'+this.options.searchAlign+' search">',c('<input class="form-control'+c(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(d.join("")),g=this.$toolbar.find(".search input"),g.off("keyup drop").on("keyup drop",function(c){b.options.searchOnEnterKey&&13!==c.keyCode||a.inArray(c.keyCode,[37,38,39,40])>-1||(clearTimeout(e),e=setTimeout(function(){b.onSearch(c)},b.options.searchTimeOut))}),n()&&g.off("mouseup").on("mouseup",function(a){clearTimeout(e),e=setTimeout(function(){b.onSearch(a)},b.options.searchTimeOut)}))},p.prototype.onSearch=function(b){var c=a.trim(a(b.currentTarget).val());this.options.trimOnSearch&&a(b.currentTarget).val()!==c&&a(b.currentTarget).val(c),c!==this.searchText&&(this.searchText=c,this.options.searchText=c,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",c))},p.prototype.initSearch=function(){var c,d,b=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==a.noop)return this.options.customSearch.apply(this,[this.searchText]),void 0;c=this.options.escape?this.searchText&&this.searchText.toLowerCase():this.searchText&&j(this.searchText).toLowerCase(),d=a.isEmptyObject(this.filterColumns)?null:this.filterColumns,this.data=d?a.grep(this.options.data,function(b){for(var e in d)if(a.isArray(d[e])){if(-1===a.inArray(b[e],d[e]))return!1}else if(b[e]!==d[e])return!1;return!0}):this.options.data,this.data=c?a.grep(this.data,function(d,f){var g,i,j,k,l;for(g in d)if(g=a.isNumeric(g)?parseInt(g,10):g,i=d[g],j=b.columns[e(b.columns,g)],k=a.inArray(g,b.header.fields),j&&j.searchFormatter&&(i=h(j,b.header.formatters[k],[i,d,f],i)),l=a.inArray(g,b.header.fields),-1!==l&&b.header.searchables[l]&&("string"==typeof i||"number"==typeof i))if(b.options.strictSearch){if((i+"").toLowerCase()===c)return!0}else if(-1!==(i+"").toLowerCase().indexOf(c))return!0;return!1}):this.data}},p.prototype.initPagination=function(){var f,g,h,i,j,k,l,m,n,b,d,e,o,p,q,r,s;if(!this.options.pagination)return this.$pagination.hide(),void 0;if(this.$pagination.show(),b=this,d=[],e=!1,o=this.getData(),p=this.options.pageList,"server"!==this.options.sidePagination&&(this.options.totalRows=o.length),this.totalPages=0,this.options.totalRows&&(this.options.pageSize===this.options.formatAllRows()?(this.options.pageSize=this.options.totalRows,e=!0):this.options.pageSize===this.options.totalRows&&(q="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList,a.inArray(this.options.formatAllRows().toLowerCase(),q)>-1&&(e=!0)),this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages),this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),d.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){for(d.push('<span class="page-list">'),r=[c('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',e?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],"string"==typeof this.options.pageList&&(s=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(","),p=[],a.each(s,function(a,c){p.push(c.toUpperCase()===b.options.formatAllRows().toUpperCase()?b.options.formatAllRows():+c)})),a.each(p,function(a,d){if(!b.options.smartDisplay||0===a||p[a-1]<=b.options.totalRows){var f;f=e?d===b.options.formatAllRows()?' class="active"':"":d===b.options.pageSize?' class="active"':"",r.push(c('<li%s><a href="javascript:void(0)">%s</a></li>',f,d))}}),r.push("</ul></span>"),d.push(this.options.formatRecordsPerPage(r.join(""))),d.push("</span>"),d.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+c(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(g=1,h=this.totalPages):(g=this.options.pageNumber-2,h=g+4,1>g&&(g=1,h=5),h>this.totalPages&&(h=this.totalPages,g=h-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(d.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',1,"</a>","</li>"),g++),this.options.pageNumber>=4&&(4==this.options.pageNumber||6==this.totalPages||7==this.totalPages?g--:d.push('<li class="page-first-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),h--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&g--,6==this.totalPages?this.options.pageNumber>=this.totalPages-2&&h++:this.totalPages>=7&&(7==this.totalPages||this.options.pageNumber>=this.totalPages-3)&&h++,f=g;h>=f;f++)d.push('<li class="page-number'+(f===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',f,"</a>","</li>");this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&d.push('<li class="page-last-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&d.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',this.totalPages,"</a>","</li>"),d.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(d.join("")),this.options.onlyInfoPagination||(i=this.$pagination.find(".page-list a"),j=this.$pagination.find(".page-first"),k=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),m=this.$pagination.find(".page-last"),n=this.$pagination.find(".page-number"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(p.length<2||this.options.totalRows<=p[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),e&&(this.options.pageSize=this.options.formatAllRows()),i.off("click").on("click",a.proxy(this.onPageListChange,this)),j.off("click").on("click",a.proxy(this.onPageFirst,this)),k.off("click").on("click",a.proxy(this.onPagePre,this)),l.off("click").on("click",a.proxy(this.onPageNext,this)),m.off("click").on("click",a.proxy(this.onPageLast,this)),n.off("click").on("click",a.proxy(this.onPageNumber,this)))},p.prototype.updatePagination=function(b){b&&a(b.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},p.prototype.onPageListChange=function(b){var c=a(b.currentTarget);c.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=c.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+c.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(b)},p.prototype.onPageFirst=function(a){this.options.pageNumber=1,this.updatePagination(a)},p.prototype.onPagePre=function(a){0===this.options.pageNumber-1?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(a)},p.prototype.onPageNext=function(a){this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(a)},p.prototype.onPageLast=function(a){this.options.pageNumber=this.totalPages,this.updatePagination(a)},p.prototype.onPageNumber=function(b){this.options.pageNumber!==+a(b.currentTarget).text()&&(this.options.pageNumber=+a(b.currentTarget).text(),this.updatePagination(b))},p.prototype.initBody=function(b){var k,l,n,o,p,q,r,s,f=this,g=[],i=this.getData();for(this.trigger("pre-body",i),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=a("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=i.length),k=this.pageFrom-1;k<this.pageTo;k++){if(n=i[k],o={},p=[],q="",r={},s=[],o=h(this.options,this.options.rowStyle,[n,k],o),o&&o.css)for(l in o.css)p.push(l+": "+o.css[l]);if(r=h(this.options,this.options.rowAttributes,[n,k],r))for(l in r)s.push(c('%s="%s"',l,j(r[l])));n._data&&!a.isEmptyObject(n._data)&&a.each(n._data,function(a,b){"index"!==a&&(q+=c(' data-%s="%s"',a,b))}),g.push("<tr",c(" %s",s.join(" ")),c(' id="%s"',a.isArray(n)?void 0:n._id),c(' class="%s"',o.classes||(a.isArray(n)?void 0:n._class)),c(' data-index="%s"',k),c(' data-uniqueid="%s"',n[this.options.uniqueId]),c("%s",q),">"),this.options.cardView&&g.push(c('<td colspan="%s"><div class="card-views">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&g.push("<td>",'<a class="detail-icon" href="javascript:">',c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>"),a.each(this.header.fields,function(b,e){var y,z,i="",j=m(n,e,f.options.escape),l="",q={},r="",s=f.header.classes[b],t="",u="",v="",w="",x=f.columns[b];if(!(f.fromHtml&&"undefined"==typeof j||!x.visible||f.options.cardView&&!x.cardVisible)){if(o=c('style="%s"',p.concat(f.header.styles[b]).join("; ")),n["_"+e+"_id"]&&(r=c(' id="%s"',n["_"+e+"_id"])),n["_"+e+"_class"]&&(s=c(' class="%s"',n["_"+e+"_class"])),n["_"+e+"_rowspan"]&&(u=c(' rowspan="%s"',n["_"+e+"_rowspan"])),n["_"+e+"_colspan"]&&(v=c(' colspan="%s"',n["_"+e+"_colspan"])),n["_"+e+"_title"]&&(w=c(' title="%s"',n["_"+e+"_title"])),q=h(f.header,f.header.cellStyles[b],[j,n,k,e],q),q.classes&&(s=c(' class="%s"',q.classes)),q.css){y=[];for(z in q.css)y.push(z+": "+q.css[z]);o=c('style="%s"',y.concat(f.header.styles[b]).join("; "))}j=h(x,f.header.formatters[b],[j,n,k],j),n["_"+e+"_data"]&&!a.isEmptyObject(n["_"+e+"_data"])&&a.each(n["_"+e+"_data"],function(a,b){"index"!==a&&(t+=c(' data-%s="%s"',a,b))}),x.checkbox||x.radio?(l=x.checkbox?"checkbox":l,l=x.radio?"radio":l,i=[c(f.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',x["class"]||""),"<input"+c(' data-index="%s"',k)+c(' name="%s"',f.options.selectItemName)+c(' type="%s"',l)+c(' value="%s"',n[f.options.idField])+c(' checked="%s"',j===!0||j&&j.checked?"checked":void 0)+c(' disabled="%s"',!x.checkboxEnabled||j&&j.disabled?"disabled":void 0)+" />",f.header.formatters[b]&&"string"==typeof j?j:"",f.options.cardView?"</div>":"</td>"].join(""),n[f.header.stateField]=j===!0||j&&j.checked):(j="undefined"==typeof j||null===j?f.options.undefinedText:j,i=f.options.cardView?['<div class="card-view">',f.options.showHeader?c('<span class="title" %s>%s</span>',o,d(f.columns,"field","title",e)):"",c('<span class="value">%s</span>',j),"</div>"].join(""):[c("<td%s %s %s %s %s %s %s>",r,s,o,t,u,v,w),j,"</td>"].join(""),f.options.cardView&&f.options.smartDisplay&&""===j&&(i='<div class="card-view"></div>')),g.push(i)}}),this.options.cardView&&g.push("</div></td>"),g.push("</tr>")}g.length||g.push('<tr class="no-records-found">',c('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>"),this.$body.html(g.join("")),b||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(b){var o,d=a(this),g=d.parent(),h=f.data[g.data("index")],i=d[0].cellIndex,j=f.getVisibleFields(),k=j[f.options.detailView&&!f.options.cardView?i-1:i],l=f.columns[e(f.columns,k)],n=m(h,k,f.options.escape);d.find(".detail-icon").length||(f.trigger("click"===b.type?"click-cell":"dbl-click-cell",k,n,h,d),f.trigger("click"===b.type?"click-row":"dbl-click-row",h,g,k),"click"===b.type&&f.options.clickToSelect&&l.clickToSelect&&(o=g.find(c('[name="%s"]',f.options.selectItemName)),o.length&&o[0].click()))}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var j,k,b=a(this),d=b.parent().parent(),e=d.data("index"),g=i[e];d.next().is("tr.detail-view")?(b.find("i").attr("class",c("%s %s",f.options.iconsPrefix,f.options.icons.detailOpen)),d.next().remove(),f.trigger("collapse-row",e,g)):(b.find("i").attr("class",c("%s %s",f.options.iconsPrefix,f.options.icons.detailClose)),d.after(c('<tr class="detail-view"><td colspan="%s"></td></tr>',d.find("td").length)),j=d.next().find("td"),k=h(f.options,f.options.detailFormatter,[e,g,j],""),1===j.length&&j.append(k),f.trigger("expand-row",e,g,j)),f.resetView()}),this.$selectItem=this.$body.find(c('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(b){b.stopImmediatePropagation();var c=a(this),d=c.prop("checked"),e=f.data[c.data("index")];f.options.maintainSelected&&a(this).is(":radio")&&a.each(f.options.data,function(a,b){b[f.header.stateField]=!1}),e[f.header.stateField]=d,f.options.singleSelect&&(f.$selectItem.not(this).each(function(){f.data[a(this).data("index")][f.header.stateField]=!1}),f.$selectItem.filter(":checked").not(this).prop("checked",!1)),f.updateSelected(),f.trigger(d?"check":"uncheck",e,c)}),a.each(this.header.events,function(b,c){var d,e,g;if(c){"string"==typeof c&&(c=h(null,c)),d=f.header.fields[b],e=a.inArray(d,f.getVisibleFields()),f.options.detailView&&!f.options.cardView&&(e+=1);for(g in c)f.$body.find(">tr:not(.no-records-found)").each(function(){var b=a(this),h=b.find(f.options.cardView?".card-view":"td").eq(e),i=g.indexOf(" "),j=g.substring(0,i),k=g.substring(i+1),l=c[g];h.find(k).off(j).on(j,function(a){var c=b.data("index"),e=f.data[c],g=e[d];l.apply(this,[a,g,e,c])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body",i)},p.prototype.initServer=function(b,c,d){var i,j,k,e=this,f={},g={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.options.pagination&&(g.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,g.pageNumber=this.options.pageNumber),(d||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(g={search:g.searchText,sort:g.sortName,order:g.sortOrder},this.options.pagination&&(j=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),k=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,g.page=0==j?0:j/k,g.size=k)),a.isEmptyObject(this.filterColumnsPartial)||(g.filter=JSON.stringify(this.filterColumnsPartial,null)),f=h(this.options,this.options.queryParams,[g],f),a.extend(f,c||{}),f!==!1&&(b||this.$tableLoading.fadeIn(100),i=a.extend({},h(null,this.options.ajaxOptions),{type:this.options.method,url:d||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(f):f,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(a){a=h(e.options,e.options.responseHandler,[a],a),e.load(a),e.trigger("load-success",a),b||e.$tableLoading.fadeOut(100)},error:function(a){e.trigger("load-error",a.status,a),b||e.$tableLoading.fadeOut(100)}}),this.options.ajax?h(this,this.options.ajax,[i],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=a.ajax(i))))},p.prototype.initSearchText=function(){if(this.options.search&&""!==this.options.searchText){var a=this.$toolbar.find(".search input");a.val(this.options.searchText),this.onSearch({currentTarget:a})}},p.prototype.getCaret=function(){var b=this;a.each(this.$header.find("th"),function(c,d){a(d).find(".sortable").removeClass("desc asc").addClass(a(d).data("field")===b.options.sortName?b.options.sortOrder:"both")})},p.prototype.updateSelected=function(){var b=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",b),this.$selectItem.each(function(){a(this).closest("tr")[a(this).prop("checked")?"addClass":"removeClass"]("selected")})},p.prototype.updateRows=function(){var b=this;this.$selectItem.each(function(){b.data[a(this).data("index")][b.header.stateField]=a(this).prop("checked")})},p.prototype.resetRows=function(){var b=this;a.each(this.data,function(a,c){b.$selectAll.prop("checked",!1),b.$selectItem.prop("checked",!1),b.header.stateField&&(c[b.header.stateField]=!1)})},p.prototype.trigger=function(b){var c=Array.prototype.slice.call(arguments,1);b+=".bs.table",this.options[p.EVENTS[b]].apply(this.options,c),this.$el.trigger(a.Event(b),c),this.options.onAll(b,c),this.$el.trigger(a.Event("all.bs.table"),[b,c])},p.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(a.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},p.prototype.fitHeader=function(){var d,e,f,h,i,j,k,l,m,b=this;return b.$el.is(":hidden")?(b.timeoutId_=setTimeout(a.proxy(b.fitHeader,b),100),void 0):(d=this.$tableBody.get(0),e=d.scrollWidth>d.clientWidth&&d.scrollHeight>d.clientHeight+this.$header.outerHeight()?g():0,this.$el.css("margin-top",-this.$header.outerHeight()),f=a(":focus"),f.length>0&&(i=f.parents("th"),i.length>0&&(j=i.attr("data-field"),void 0!==j&&(k=this.$header.find("[data-field='"+j+"']"),k.length>0&&k.find(":input").addClass("focus-temp")))),this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":e}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),h=a(".focus-temp:visible:eq(0)"),h.length>0&&(h.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(){b.$header_.find(c('th[data-field="%s"]',a(this).data("field"))).data(a(this).data())}),l=this.getVisibleFields(),m=this.$header_.find("th"),this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(d){var g,e=a(this),f=d;b.options.detailView&&!b.options.cardView&&(0===d&&b.$header_.find("th.detail").find(".fht-cell").width(e.innerWidth()),f=d-1),g=b.$header_.find(c('th[data-field="%s"]',l[f])),g.length>1&&(g=a(m[e[0].cellIndex])),g.find(".fht-cell").width(e.innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){b.$tableHeader.scrollLeft(a(this).scrollLeft()),b.options.showFooter&&!b.options.cardView&&b.$tableFooter.scrollLeft(a(this).scrollLeft())}),b.trigger("post-header"),void 0)},p.prototype.resetFooter=function(){var b=this,d=b.getData(),e=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&e.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),a.each(this.columns,function(a,f){var g,i="",j="",k=[],l={},m=c(' class="%s"',f["class"]);if(f.visible&&(!b.options.cardView||f.cardVisible)){if(i=c("text-align: %s; ",f.falign?f.falign:f.align),j=c("vertical-align: %s; ",f.valign),l=h(null,b.options.footerStyle),l&&l.css)for(g in l.css)k.push(g+": "+l.css[g]);e.push("<td",m,c(' style="%s"',i+j+k.concat().join("; ")),">"),e.push('<div class="th-inner">'),e.push(h(f,f.footerFormatter,[d],"&nbsp;")||"&nbsp;"),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</td>")}}),this.$tableFooter.find("tr").html(e.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(a.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},p.prototype.fitFooter=function(){var c,d,e;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?(this.timeoutFooter_=setTimeout(a.proxy(this.fitFooter,this),100),void 0):(d=this.$el.css("width"),e=d>this.$tableBody.width()?g():0,this.$tableFooter.css({"margin-right":e}).find("table").css("width",d).attr("class",this.$el.attr("class")),c=this.$tableFooter.find("td"),this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(b){var d=a(this);c.eq(b).find(".fht-cell").width(d.innerWidth())}),void 0)},p.prototype.toggleColumn=function(a,b,d){if(-1!==a&&(this.columns[a].visible=b,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var e=this.$toolbar.find(".keep-open input").prop("disabled",!1);d&&e.filter(c('[value="%s"]',a)).prop("checked",b),e.filter(":checked").length<=this.options.minimumCountColumns&&e.filter(":checked").prop("disabled",!0)}},p.prototype.toggleRow=function(a,b,d){-1!==a&&this.$body.find("undefined"!=typeof a?c('tr[data-index="%s"]',a):c('tr[data-uniqueid="%s"]',b))[d?"show":"hide"]()},p.prototype.getVisibleFields=function(){var b=this,c=[];return a.each(this.header.fields,function(a,d){var f=b.columns[e(b.columns,d)];f.visible&&c.push(d)}),c},p.prototype.resetView=function(a){var c,d,e,b=0;return a&&a.height&&(this.options.height=a.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height&&(c=k(this.$toolbar),d=k(this.$pagination),e=this.options.height-c-d,this.$tableContainer.css("height",e+"px")),this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),this.$tableFooter.hide(),void 0):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),b+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(b+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",b+"px"),this.trigger("reset-view"),void 0)},p.prototype.getData=function(b){return!this.searchText&&a.isEmptyObject(this.filterColumns)&&a.isEmptyObject(this.filterColumnsPartial)?b?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:b?this.data.slice(this.pageFrom-1,this.pageTo):this.data},p.prototype.load=function(b){var c=!1;"server"===this.options.sidePagination?(this.options.totalRows=b.total,c=b.fixedScroll,b=b[this.options.dataField]):a.isArray(b)||(c=b.fixedScroll,b=b.data),this.initData(b),this.initSearch(),this.initPagination(),this.initBody(c)},p.prototype.append=function(a){this.initData(a,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},p.prototype.prepend=function(a){this.initData(a,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},p.prototype.remove=function(b){var d,e,c=this.options.data.length;if(b.hasOwnProperty("field")&&b.hasOwnProperty("values")){for(d=c-1;d>=0;d--)e=this.options.data[d],e.hasOwnProperty(b.field)&&-1!==a.inArray(e[b.field],b.values)&&this.options.data.splice(d,1);c!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},p.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},p.prototype.getRowByUniqueId=function(a){var e,f,g,b=this.options.uniqueId,c=this.options.data.length,d=null;for(e=c-1;e>=0;e--){if(f=this.options.data[e],f.hasOwnProperty(b))g=f[b];else{if(!f._data.hasOwnProperty(b))continue;g=f._data[b]}if("string"==typeof g?a=a.toString():"number"==typeof g&&(Number(g)===g&&0===g%1?a=parseInt(a):g===Number(g)&&0!==g&&(a=parseFloat(a))),g===a){d=f;break}}return d},p.prototype.removeByUniqueId=function(a){var b=this.options.data.length,c=this.getRowByUniqueId(a);c&&this.options.data.splice(this.options.data.indexOf(c),1),b!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},p.prototype.updateByUniqueId=function(b){var c=this,d=a.isArray(b)?b:[b];a.each(d,function(b,d){var e;d.hasOwnProperty("id")&&d.hasOwnProperty("row")&&(e=a.inArray(c.getRowByUniqueId(d.id),c.options.data),-1!==e&&a.extend(c.options.data[e],d.row))}),this.initSearch(),this.initSort(),this.initBody(!0)},p.prototype.insertRow=function(a){a.hasOwnProperty("index")&&a.hasOwnProperty("row")&&(this.data.splice(a.index,0,a.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},p.prototype.updateRow=function(b){var c=this,d=a.isArray(b)?b:[b];a.each(d,function(b,d){d.hasOwnProperty("index")&&d.hasOwnProperty("row")&&a.extend(c.options.data[d.index],d.row)}),this.initSearch(),this.initSort(),this.initBody(!0)},p.prototype.showRow=function(a){(a.hasOwnProperty("index")||a.hasOwnProperty("uniqueId"))&&this.toggleRow(a.index,a.uniqueId,!0)},p.prototype.hideRow=function(a){(a.hasOwnProperty("index")||a.hasOwnProperty("uniqueId"))&&this.toggleRow(a.index,a.uniqueId,!1)},p.prototype.getRowsHidden=function(b){var c=a(this.$body[0]).children().filter(":hidden"),d=0;if(b)for(;d<c.length;d++)a(c[d]).show();return c},p.prototype.mergeCells=function(b){var g,h,j,c=b.index,d=a.inArray(b.field,this.getVisibleFields()),e=b.rowspan||1,f=b.colspan||1,i=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(d+=1),j=i.eq(c).find(">td").eq(d),!(0>c||0>d||c>=this.data.length)){for(g=c;c+e>g;g++)for(h=d;d+f>h;h++)i.eq(g).find(">td").eq(h).hide();j.attr("rowspan",e).attr("colspan",f).show()}},p.prototype.updateCell=function(a){a.hasOwnProperty("index")&&a.hasOwnProperty("field")&&a.hasOwnProperty("value")&&(this.data[a.index][a.field]=a.value,a.reinit!==!1&&(this.initSort(),this.initBody(!0)))},p.prototype.getOptions=function(){return this.options},p.prototype.getSelections=function(){var b=this;return a.grep(this.options.data,function(a){return a[b.header.stateField]})},p.prototype.getAllSelections=function(){var b=this;return a.grep(this.options.data,function(a){return a[b.header.stateField]})},p.prototype.checkAll=function(){this.checkAll_(!0)},p.prototype.uncheckAll=function(){this.checkAll_(!1)},p.prototype.checkInvert=function(){var b=this,c=b.$selectItem.filter(":enabled"),d=c.filter(":checked");c.each(function(){a(this).prop("checked",!a(this).prop("checked"))}),b.updateRows(),b.updateSelected(),b.trigger("uncheck-some",d),d=b.getSelections(),b.trigger("check-some",d)},p.prototype.checkAll_=function(a){var b;a||(b=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",a),this.$selectItem.filter(":enabled").prop("checked",a),this.updateRows(),a&&(b=this.getSelections()),this.trigger(a?"check-all":"uncheck-all",b)},p.prototype.check=function(a){this.check_(!0,a)},p.prototype.uncheck=function(a){this.check_(!1,a)},p.prototype.check_=function(a,b){var d=this.$selectItem.filter(c('[data-index="%s"]',b)).prop("checked",a);this.data[b][this.header.stateField]=a,this.updateSelected(),this.trigger(a?"check":"uncheck",this.data[b],d)},p.prototype.checkBy=function(a){this.checkBy_(!0,a)},p.prototype.uncheckBy=function(a){this.checkBy_(!1,a)},p.prototype.checkBy_=function(b,d){if(d.hasOwnProperty("field")&&d.hasOwnProperty("values")){var e=this,f=[];a.each(this.options.data,function(g,h){if(!h.hasOwnProperty(d.field))return!1;if(-1!==a.inArray(h[d.field],d.values)){var i=e.$selectItem.filter(":enabled").filter(c('[data-index="%s"]',g)).prop("checked",b);h[e.header.stateField]=b,f.push(h),e.trigger(b?"check":"uncheck",h,i)}}),this.updateSelected(),this.trigger(b?"check-some":"uncheck-some",f)}},p.prototype.destroy=function(){this.$el.insertBefore(this.$container),a(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},p.prototype.showLoading=function(){this.$tableLoading.show()},p.prototype.hideLoading=function(){this.$tableLoading.hide()},p.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var a=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?a.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):a.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},p.prototype.refresh=function(a){a&&a.url&&(this.options.pageNumber=1),this.initServer(a&&a.silent,a&&a.query,a&&a.url),this.trigger("refresh",a)},p.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},p.prototype.showColumn=function(a){this.toggleColumn(e(this.columns,a),!0,!0)},p.prototype.hideColumn=function(a){this.toggleColumn(e(this.columns,a),!1,!0)},p.prototype.getHiddenColumns=function(){return a.grep(this.columns,function(a){return!a.visible})},p.prototype.getVisibleColumns=function(){return a.grep(this.columns,function(a){return a.visible})},p.prototype.toggleAllColumns=function(b){if(a.each(this.columns,function(a){this.columns[a].visible=b}),this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var c=this.$toolbar.find(".keep-open input").prop("disabled",!1);c.filter(":checked").length<=this.options.minimumCountColumns&&c.filter(":checked").prop("disabled",!0)}},p.prototype.showAllColumns=function(){this.toggleAllColumns(!0)},p.prototype.hideAllColumns=function(){this.toggleAllColumns(!1)},p.prototype.filterBy=function(b){this.filterColumns=a.isEmptyObject(b)?{}:b,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},p.prototype.scrollTo=function(a){return"string"==typeof a&&(a="bottom"===a?this.$tableBody[0].scrollHeight:0),"number"==typeof a&&this.$tableBody.scrollTop(a),"undefined"==typeof a?this.$tableBody.scrollTop():void 0},p.prototype.getScrollPosition=function(){return this.scrollTo()},p.prototype.selectPage=function(a){a>0&&a<=this.options.totalPages&&(this.options.pageNumber=a,this.updatePagination())},p.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},p.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},p.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)},p.prototype.refreshOptions=function(b){i(this.options,b,!0)||(this.options=a.extend(this.options,b),this.trigger("refresh-options",this.options),this.destroy(),this.init())},p.prototype.resetSearch=function(a){var b=this.$toolbar.find(".search input");b.val(a||""),this.onSearch({currentTarget:b})},p.prototype.expandRow_=function(a,b){var d=this.$body.find(c('> tr[data-index="%s"]',b));d.next().is("tr.detail-view")===(a?!1:!0)&&d.find("> td > .detail-icon").click()},p.prototype.expandRow=function(a){this.expandRow_(!0,a)},p.prototype.collapseRow=function(a){this.expandRow_(!1,a)},p.prototype.expandAllRows=function(b){var d,e,f,g,h,j,k;if(b){if(d=this.$body.find(c('> tr[data-index="%s"]',0)),e=this,f=null,g=!1,h=-1,d.next().is("tr.detail-view")?d.next().next().is("tr.detail-view")||(d.next().find(".detail-icon").click(),g=!0):(d.find("> td > .detail-icon").click(),g=!0),g)try{h=setInterval(function(){f=e.$body.find("tr.detail-view").last().find(".detail-icon"),f.length>0?f.click():clearInterval(h)},1)}catch(i){clearInterval(h)}}else for(j=this.$body.children(),k=0;k<j.length;k++)this.expandRow_(!0,a(j[k]).data("index"))},p.prototype.collapseAllRows=function(b){var c,d;if(b)this.expandRow_(!1,0);else for(c=this.$body.children(),d=0;d<c.length;d++)this.expandRow_(!1,a(c[d]).data("index"))},p.prototype.updateFormatText=function(a,b){this.options[c("format%s",a)]&&("string"==typeof b?this.options[c("format%s",a)]=function(){return b}:"function"==typeof b&&(this.options[c("format%s",a)]=b)),this.initToolbar(),this.initPagination(),this.initBody()},q=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"],a.fn.bootstrapTable=function(b){var c,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("bootstrap.table"),g=a.extend({},p.DEFAULTS,e.data(),"object"==typeof b&&b);if("string"==typeof b){if(a.inArray(b,q)<0)throw new Error("Unknown method: "+b);if(!f)return;c=f[b].apply(f,d),"destroy"===b&&e.removeData("bootstrap.table")}f||e.data("bootstrap.table",f=new p(this,g))}),"undefined"==typeof c?this:c},a.fn.bootstrapTable.Constructor=p,a.fn.bootstrapTable.defaults=p.DEFAULTS,a.fn.bootstrapTable.columnDefaults=p.COLUMN_DEFAULTS,a.fn.bootstrapTable.locales=p.LOCALES,a.fn.bootstrapTable.methods=q,a.fn.bootstrapTable.utils={sprintf:c,getFieldIndex:e,compareObjects:i,calculateObjectValue:h,getItemField:m,objectKeys:o,isIEBrowser:n},a(function(){a('[data-toggle="table"]').bootstrapTable()})}(jQuery);
/* bootstrap-table.zh-CN - v1.10.1 */!function(a){"use strict";a.fn.bootstrapTable.locales["zh-CN"]={formatLoadingMessage:function(){return""},formatRecordsPerPage:function(a){return"每页显示 "+a+" 条记录"},formatShowingRows:function(a,b,c){return"显示第 "+a+" 到第 "+b+" 条记录，总共 "+c+" 条记录"},formatSearch:function(){return"搜索"},formatNoMatches:function(){return"没有找到匹配的记录"},formatPaginationSwitch:function(){return"隐藏/显示分页"},formatRefresh:function(){return"刷新"},formatToggle:function(){return"切换"},formatColumns:function(){return"列"}},a.extend(a.fn.bootstrapTable.defaults,a.fn.bootstrapTable.locales["zh-CN"])}(jQuery);
/* bootstrap-editable.js X-editable - v1.5.1 */(function($){var EditableForm=function(div,options){this.options=$.extend({},$.fn.editableform.defaults,options);this.$div=$(div);if(!this.options.scope){this.options.scope=this}};EditableForm.prototype={constructor:EditableForm,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=$($.fn.editableform.template)},initButtons:function(){var $btn=this.$form.find(".editable-buttons");$btn.append($.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){$btn.addClass("editable-buttons-bottom")}},render:function(){this.$loading=$($.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);$.when(this.input.render()).then($.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click($.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(e){e.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var value=(this.value===null||this.value===undefined||this.value==="")?this.options.defaultValue:this.value;this.input.value2input(value);this.$form.submit($.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var w,h;if(this.$form){w=this.$form.outerWidth();h=this.$form.outerHeight();if(w){this.$loading.width(w)}if(h){this.$loading.height(h)}this.$form.hide()}else{w=this.$loading.parent().width();if(w){this.$loading.width(w)}}this.$loading.show()},showForm:function(activate){this.$loading.hide();this.$form.show();if(activate!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(msg){var $group=this.$form.find(".control-group"),$block=this.$form.find(".editable-error-block"),lines;if(msg===false){$group.removeClass($.fn.editableform.errorGroupClass);$block.removeClass($.fn.editableform.errorBlockClass).empty().hide()}else{if(msg){lines=(""+msg).split("\n");for(var i=0;i<lines.length;i++){lines[i]=$("<div>").text(lines[i]).html()}msg=lines.join("<br>")}$group.addClass($.fn.editableform.errorGroupClass);$block.addClass($.fn.editableform.errorBlockClass).html(msg).show()}},submit:function(e){e.stopPropagation();e.preventDefault();var newValue=this.input.input2value();var error=this.validate(newValue);if($.type(error)==="object"&&error.newValue!==undefined){newValue=error.newValue;this.input.value2input(newValue);if(typeof error.msg==="string"){this.error(error.msg);this.showForm();return}}else{if(error){this.error(error);this.showForm();return}}if(!this.options.savenochange&&this.input.value2str(newValue)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var submitValue=this.input.value2submit(newValue);this.isSaving=true;$.when(this.save(submitValue)).done($.proxy(function(response){this.isSaving=false;var res=typeof this.options.success==="function"?this.options.success.call(this.options.scope,response,newValue):null;if(res===false){this.error(false);this.showForm(false);return}if(typeof res==="string"){this.error(res);this.showForm();return}if(res&&typeof res==="object"&&res.hasOwnProperty("newValue")){newValue=res.newValue}this.error(false);this.value=newValue;this.$div.triggerHandler("save",{newValue:newValue,submitValue:submitValue,response:response})},this)).fail($.proxy(function(xhr){this.isSaving=false;var msg;if(typeof this.options.error==="function"){msg=this.options.error.call(this.options.scope,xhr,newValue)}else{msg=typeof xhr==="string"?xhr:xhr.responseText||xhr.statusText||"Unknown error!"}this.error(msg);this.showForm()},this))},save:function(submitValue){this.options.pk=$.fn.editableutils.tryParseJson(this.options.pk,true);var pk=(typeof this.options.pk==="function")?this.options.pk.call(this.options.scope):this.options.pk,send=!!(typeof this.options.url==="function"||(this.options.url&&((this.options.send==="always")||(this.options.send==="auto"&&pk!==null&&pk!==undefined)))),params;if(send){this.showLoading();params={name:this.options.name||"",value:submitValue,pk:pk};if(typeof this.options.params==="function"){params=this.options.params.call(this.options.scope,params)}else{this.options.params=$.fn.editableutils.tryParseJson(this.options.params,true); $.extend(params,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,params)}else{return $.ajax($.extend({url:this.options.url,data:params,type:"POST"},this.options.ajaxOptions))}}},validate:function(value){if(value===undefined){value=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,value)}},option:function(key,value){if(key in this.options){this.options[key]=value}if(key==="value"){this.setValue(value)}},setValue:function(value,convertStr){if(convertStr){this.value=this.input.str2value(value)}else{this.value=value}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};$.fn.editableform=function(option){var args=arguments;return this.each(function(){var $this=$(this),data=$this.data("editableform"),options=typeof option==="object"&&option;if(!data){$this.data("editableform",(data=new EditableForm(this,options)))}if(typeof option==="string"){data[option].apply(data,Array.prototype.slice.call(args,1))}})};$.fn.editableform.Constructor=EditableForm;$.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};$.fn.editableform.template='<form class="form-inline editableform">'+'<div class="control-group">'+'<div><div class="editable-input"></div><div class="editable-buttons"></div></div>'+'<div class="editable-error-block"></div>'+"</div>"+"</form>";$.fn.editableform.loading='<div class="editableform-loading"></div>';$.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button>'+'<button type="button" class="editable-cancel">cancel</button>';$.fn.editableform.errorGroupClass=null;$.fn.editableform.errorBlockClass="editable-error";$.fn.editableform.engine="jquery"}(window.jQuery));(function($){$.fn.editableutils={inherit:function(Child,Parent){var F=function(){};F.prototype=Parent.prototype;Child.prototype=new F();Child.prototype.constructor=Child;Child.superclass=Parent.prototype},setCursorPosition:function(elem,pos){if(elem.setSelectionRange){elem.setSelectionRange(pos,pos)}else{if(elem.createTextRange){var range=elem.createTextRange();range.collapse(true);range.moveEnd("character",pos);range.moveStart("character",pos);range.select()}}},tryParseJson:function(s,safe){if(typeof s==="string"&&s.length&&s.match(/^[\{\[].*[\}\]]$/)){if(safe){try{s=(new Function("return "+s))()}catch(e){}finally{return s}}else{s=(new Function("return "+s))()}}return s},sliceObj:function(obj,keys,caseSensitive){var key,keyLower,newObj={};if(!$.isArray(keys)||!keys.length){return newObj}for(var i=0;i<keys.length;i++){key=keys[i];if(obj.hasOwnProperty(key)){newObj[key]=obj[key]}if(caseSensitive===true){continue}keyLower=key.toLowerCase();if(obj.hasOwnProperty(keyLower)){newObj[key]=obj[keyLower]}}return newObj},getConfigData:function($element){var data={};$.each($element.data(),function(k,v){if(typeof v!=="object"||(v&&typeof v==="object"&&(v.constructor===Object||v.constructor===Array))){data[k]=v}});return data},objectKeys:function(o){if(Object.keys){return Object.keys(o)}else{if(o!==Object(o)){throw new TypeError("Object.keys called on a non-object")}var k=[],p;for(p in o){if(Object.prototype.hasOwnProperty.call(o,p)){k.push(p)}}return k}},escape:function(str){return $("<div>").text(str).html()},itemsByValue:function(value,sourceData,valueProp){if(!sourceData||value===null){return[]}if(typeof(valueProp)!=="function"){var idKey=valueProp||"value";valueProp=function(e){return e[idKey]}}var isValArray=$.isArray(value),result=[],that=this;$.each(sourceData,function(i,o){if(o.children){result=result.concat(that.itemsByValue(value,o.children,valueProp))}else{if(isValArray){if($.grep(value,function(v){return v==(o&&typeof o==="object"?valueProp(o):o)}).length){result.push(o)}}else{var itemValue=(o&&(typeof o==="object"))?valueProp(o):o;if(value==itemValue){result.push(o)}}}});return result},createInput:function(options){var TypeConstructor,typeOptions,input,type=options.type;if(type==="date"){if(options.mode==="inline"){if($.fn.editabletypes.datefield){type="datefield"}else{if($.fn.editabletypes.dateuifield){type="dateuifield"}}}else{if($.fn.editabletypes.date){type="date"}else{if($.fn.editabletypes.dateui){type="dateui"}}}if(type==="date"&&!$.fn.editabletypes.date){type="combodate"}}if(type==="datetime"&&options.mode==="inline"){type="datetimefield"}if(type==="wysihtml5"&&!$.fn.editabletypes[type]){type="textarea"}if(typeof $.fn.editabletypes[type]==="function"){TypeConstructor=$.fn.editabletypes[type];typeOptions=this.sliceObj(options,this.objectKeys(TypeConstructor.defaults));input=new TypeConstructor(typeOptions);return input}else{$.error("Unknown type: "+type);return false}},supportsTransitions:function(){var b=document.body||document.documentElement,s=b.style,p="transition",v=["Moz","Webkit","Khtml","O","ms"];if(typeof s[p]==="string"){return true }p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++){if(typeof s[v[i]+p]==="string"){return true}}return false}}}(window.jQuery));(function($){var Popup=function(element,options){this.init(element,options)};var Inline=function(element,options){this.init(element,options)};Popup.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.editableContainer.defaults,options);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",$.proxy(function(){this.destroy()},this));if(!$(document).data("editable-handlers-attached")){$(document).on("keyup.editable",function(e){if(e.which===27){$(".editable-open").editableContainer("hide")}});$(document).on("click.editable",function(e){var $target=$(e.target),i,exclude_classes=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!$.contains(document.documentElement,e.target)){return}if($target.is(document)){return}for(i=0;i<exclude_classes.length;i++){if($target.is(exclude_classes[i])||$target.parents(exclude_classes[i]).length){return}}Popup.prototype.closeOthers(e.target)});$(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!$.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var k in this.options){if(k in this.defaults){this.containerOptions[k]=this.options[k]}else{this.formOptions[k]=this.options[k]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var container;if(this.containerDataName){if(container=this.$element.data(this.containerDataName)){return container}}container=this.$element.data(this.containerName);return container},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:$.proxy(this.save,this),nochange:$.proxy(function(){this.hide("nochange")},this),cancel:$.proxy(function(){this.hide("cancel")},this),show:$.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:$.proxy(this.setPosition,this),resize:$.proxy(this.setPosition,this),rendered:$.proxy(function(){this.$element.triggerHandler("shown",$(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(closeAll){this.$element.addClass("editable-open");if(closeAll!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=$("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(reason){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:reason};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",reason||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(closeAll){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(closeAll)}},setPosition:function(){},save:function(e,params){this.$element.triggerHandler("save",params);this.hide("save")},option:function(key,value){this.options[key]=value;if(key in this.containerOptions){this.containerOptions[key]=value;this.setContainerOption(key,value)}else{this.formOptions[key]=value;if(this.$form){this.$form.editableform("option",key,value)}}},setContainerOption:function(key,value){this.call("option",key,value)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(element){$(".editable-open").each(function(i,el){if(el===element||$(el).find(element).length){return}var $el=$(el),ec=$el.data("editableContainer");if(!ec){return}if(ec.options.onblur==="cancel"){$el.data("editableContainer").hide("onblur")}else{if(ec.options.onblur==="submit"){$el.data("editableContainer").tip().find("form").submit()}}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};$.fn.editableContainer=function(option){var args=arguments;return this.each(function(){var $this=$(this),dataKey="editableContainer",data=$this.data(dataKey),options=typeof option==="object"&&option,Constructor=(options.mode==="inline")?Inline:Popup;if(!data){$this.data(dataKey,(data=new Constructor(this,options)))}if(typeof option==="string"){data[option].apply(data,Array.prototype.slice.call(args,1)) }})};$.fn.editableContainer.Popup=Popup;$.fn.editableContainer.Inline=Inline;$.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(o){if(o.handler){o.handler()}}}}(window.jQuery));(function($){$.extend($.fn.editableContainer.Inline.prototype,$.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=$("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,$.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})}(window.jQuery));(function($){var Editable=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.editable.defaults,options,$.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!$.fn.editableutils.supportsTransitions()){this.options.highlight=false}};Editable.prototype={constructor:Editable,init:function(){var isValueByText=false,doAutotext,finalize;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=$.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value($.trim(this.$element.html()));isValueByText=true}else{this.options.value=$.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",$.proxy(function(e){if(!this.options.disabled){e.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var closeAll=(this.options.toggle!=="click");this.toggle(closeAll)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":doAutotext=true;break;case"auto":doAutotext=!$.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!isValueByText;break;default:doAutotext=false}$.when(doAutotext?this.render():true).then($.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var selector=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",selector,$.proxy(function(e){var $target=$(e.target);if(!$target.data("editable")){if($target.hasClass(this.options.emptyclass)){$target.empty()}$target.editable(this.options).trigger(e)}},this))},render:function(response){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,response)}else{if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,response)}else{return this.input.value2html(this.value,this.$element[0])}}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(key,value){if(key&&typeof key==="object"){$.each(key,$.proxy(function(k,v){this.option($.trim(k),v)},this));return}this.options[key]=value;if(key==="disabled"){return value?this.disable():this.enable()}if(key==="value"){this.setValue(value)}if(this.container){this.container.option(key,value)}if(this.input.option){this.input.option(key,value)}},handleEmpty:function(isEmpty){if(this.options.display===false){return}if(isEmpty!==undefined){this.isEmpty=isEmpty}else{if(typeof(this.input.isEmpty)==="function"){this.isEmpty=this.input.isEmpty(this.$element)}else{this.isEmpty=$.trim(this.$element.html())===""}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else{if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass) }}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(closeAll){if(this.options.disabled){return}if(!this.container){var containerOptions=$.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(containerOptions);this.$element.on("save.internal",$.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else{if(this.container.tip().is(":visible")){return}}this.container.show(closeAll)},hide:function(){if(this.container){this.container.hide()}},toggle:function(closeAll){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(closeAll)}},save:function(e,params){if(this.options.unsavedclass){var sent=false;sent=sent||typeof this.options.url==="function";sent=sent||this.options.display===false;sent=sent||params.response!==undefined;sent=sent||(this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(params.newValue));if(sent){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var $e=this.$element,bgColor=$e.css("background-color");$e.css("background-color",this.options.highlight);setTimeout(function(){if(bgColor==="transparent"){bgColor=""}$e.css("background-color",bgColor);$e.addClass("editable-bg-transition");setTimeout(function(){$e.removeClass("editable-bg-transition")},1700)},10)}this.setValue(params.newValue,false,params.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(value,convertStr,response){if(convertStr){this.value=this.input.str2value(value)}else{this.value=value}if(this.container){this.container.option("value",this.value)}$.when(this.render(response)).then($.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};$.fn.editable=function(option){var result={},args=arguments,datakey="editable";switch(option){case"validate":this.each(function(){var $this=$(this),data=$this.data(datakey),error;if(data&&(error=data.validate())){result[data.options.name]=error}});return result;case"getValue":if(arguments.length===2&&arguments[1]===true){result=this.eq(0).data(datakey).value}else{this.each(function(){var $this=$(this),data=$this.data(datakey);if(data&&data.value!==undefined&&data.value!==null){result[data.options.name]=data.input.value2submit(data.value)}})}return result;case"submit":var config=arguments[1]||{},$elems=this,errors=this.editable("validate");if($.isEmptyObject(errors)){var ajaxOptions={};if($elems.length===1){var editable=$elems.data("editable");var params={name:editable.options.name||"",value:editable.input.value2submit(editable.value),pk:(typeof editable.options.pk==="function")?editable.options.pk.call(editable.options.scope):editable.options.pk};if(typeof editable.options.params==="function"){params=editable.options.params.call(editable.options.scope,params)}else{editable.options.params=$.fn.editableutils.tryParseJson(editable.options.params,true);$.extend(params,editable.options.params)}ajaxOptions={url:editable.options.url,data:params,type:"POST"};config.success=config.success||editable.options.success;config.error=config.error||editable.options.error}else{var values=this.editable("getValue");ajaxOptions={url:config.url,data:values,type:"POST"}}ajaxOptions.success=typeof config.success==="function"?function(response){config.success.call($elems,response,config)}:$.noop;ajaxOptions.error=typeof config.error==="function"?function(){config.error.apply($elems,arguments)}:$.noop;if(config.ajaxOptions){$.extend(ajaxOptions,config.ajaxOptions)}if(config.data){$.extend(ajaxOptions.data,config.data)}$.ajax(ajaxOptions)}else{if(typeof config.error==="function"){config.error.call($elems,errors)}}return this}return this.each(function(){var $this=$(this),data=$this.data(datakey),options=typeof option==="object"&&option;if(options&&options.selector){data=new Editable(this,options);return}if(!data){$this.data(datakey,(data=new Editable(this,options)))}if(typeof option==="string"){data[option].apply(data,Array.prototype.slice.call(args,1))}})};$.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery));(function($){$.fn.editabletypes={};var AbstractInput=function(){};AbstractInput.prototype={init:function(type,options,defaults){this.type=type; this.options=$.extend({},defaults,options)},prerender:function(){this.$tpl=$(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(value,element){$(element)[this.options.escape?"text":"html"]($.trim(value))},html2value:function(html){return $("<div>").html(html).text()},value2str:function(value){return value},str2value:function(str){return str},value2submit:function(value){return value},value2input:function(value){this.$input.val(value)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(str){return $("<div>").text(str).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(attr){if(this.options[attr]!==undefined&&this.options[attr]!==null){this.$input.attr(attr,this.options[attr])}},option:function(key,value){this.options[key]=value}};AbstractInput.defaults={tpl:"",inputclass:null,escape:true,scope:null,showbuttons:true};$.extend($.fn.editabletypes,{abstractinput:AbstractInput})}(window.jQuery));(function($){var List=function(options){};$.fn.editableutils.inherit(List,$.fn.editabletypes.abstractinput);$.extend(List.prototype,{render:function(){var deferred=$.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();deferred.resolve()},function(){this.error=this.options.sourceError;deferred.resolve()});return deferred.promise()},html2value:function(html){return null},value2html:function(value,element,display,response){var deferred=$.Deferred(),success=function(){if(typeof display==="function"){display.call(element,value,this.sourceData,response)}else{this.value2htmlFinal(value,element)}deferred.resolve()};if(value===null){success.call(this)}else{this.onSourceReady(success,function(){deferred.resolve()})}return deferred.promise()},onSourceReady:function(success,error){var source;if($.isFunction(this.options.source)){source=this.options.source.call(this.options.scope);this.sourceData=null}else{source=this.options.source}if(this.options.sourceCache&&$.isArray(this.sourceData)){success.call(this);return}try{source=$.fn.editableutils.tryParseJson(source,false)}catch(e){error.call(this);return}if(typeof source==="string"){if(this.options.sourceCache){var cacheID=source,cache;if(!$(document).data(cacheID)){$(document).data(cacheID,{})}cache=$(document).data(cacheID);if(cache.loading===false&&cache.sourceData){this.sourceData=cache.sourceData;this.doPrepend();success.call(this);return}else{if(cache.loading===true){cache.callbacks.push($.proxy(function(){this.sourceData=cache.sourceData;this.doPrepend();success.call(this)},this));cache.err_callbacks.push($.proxy(error,this));return}else{cache.loading=true;cache.callbacks=[];cache.err_callbacks=[]}}}var ajaxOptions=$.extend({url:source,type:"get",cache:false,dataType:"json",success:$.proxy(function(data){if(cache){cache.loading=false}this.sourceData=this.makeArray(data);if($.isArray(this.sourceData)){if(cache){cache.sourceData=this.sourceData;$.each(cache.callbacks,function(){this.call()})}this.doPrepend();success.call(this)}else{error.call(this);if(cache){$.each(cache.err_callbacks,function(){this.call()})}}},this),error:$.proxy(function(){error.call(this);if(cache){cache.loading=false;$.each(cache.err_callbacks,function(){this.call()})}},this)},this.options.sourceOptions);$.ajax(ajaxOptions)}else{this.sourceData=this.makeArray(source);if($.isArray(this.sourceData)){this.doPrepend();success.call(this)}else{error.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!$.isArray(this.prependData)){if($.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=$.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if($.isArray(this.prependData)&&$.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(value,element){},makeArray:function(data){var count,obj,result=[],item,iterateItem;if(!data||typeof data==="string"){return null}if($.isArray(data)){iterateItem=function(k,v){obj={value:k,text:v};if(count++>=2){return false}};for(var i=0;i<data.length;i++){item=data[i];if(typeof item==="object"){count=0;$.each(item,iterateItem);if(count===1){result.push(obj)}else{if(count>1){if(item.children){item.children=this.makeArray(item.children)}result.push(item)}}}else{result.push({value:item,text:item})}}}else{$.each(data,function(k,v){result.push({value:k,text:v})})}return result},option:function(key,value){this.options[key]=value;if(key==="source"){this.sourceData=null}if(key==="prepend"){this.prependData=null}}});List.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true,sourceOptions:null}); $.fn.editabletypes.list=List}(window.jQuery));(function($){var Text=function(options){this.init("text",options,Text.defaults)};$.fn.editableutils.inherit(Text,$.fn.editabletypes.abstractinput);$.extend(Text.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();$.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=$('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup($.proxy(function(e){if(~$.inArray(e.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var that=this;this.t=setTimeout(function(){that.toggleClear(e)},100)},this)).parent().css("position","relative");this.$clear.click($.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(e){if(!this.$clear){return}var len=this.$input.val().length,visible=this.$clear.is(":visible");if(len&&!visible){this.$clear.show()}if(!len&&visible){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});Text.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});$.fn.editabletypes.text=Text}(window.jQuery));(function($){var Textarea=function(options){this.init("textarea",options,Textarea.defaults)};$.fn.editableutils.inherit(Textarea,$.fn.editabletypes.abstractinput);$.extend(Textarea.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(e){if(e.ctrlKey&&e.which===13){$(this).closest("form").submit()}})},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)}});Textarea.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});$.fn.editabletypes.textarea=Textarea}(window.jQuery));(function($){var Select=function(options){this.init("select",options,Select.defaults)};$.fn.editableutils.inherit(Select,$.fn.editabletypes.list);$.extend(Select.prototype,{renderList:function(){this.$input.empty();var fillItems=function($el,data){var attr;if($.isArray(data)){for(var i=0;i<data.length;i++){attr={};if(data[i].children){attr.label=data[i].text;$el.append(fillItems($("<optgroup>",attr),data[i].children))}else{attr.value=data[i].value;if(data[i].disabled){attr.disabled=true}$el.append($("<option>",attr).text(data[i].text))}}}return $el};fillItems(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(e){if(e.which===13){$(this).closest("form").submit()}})},value2htmlFinal:function(value,element){var text="",items=$.fn.editableutils.itemsByValue(value,this.sourceData);if(items.length){text=items[0].text}$.fn.editabletypes.abstractinput.prototype.value2html.call(this,text,element)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){$(this).closest("form").submit()})}});Select.defaults=$.extend({},$.fn.editabletypes.list.defaults,{tpl:"<select></select>"});$.fn.editabletypes.select=Select}(window.jQuery));(function($){var Checklist=function(options){this.init("checklist",options,Checklist.defaults)};$.fn.editableutils.inherit(Checklist,$.fn.editabletypes.list);$.extend(Checklist.prototype,{renderList:function(){var $label,$div;this.$tpl.empty();if(!$.isArray(this.sourceData)){return}for(var i=0;i<this.sourceData.length;i++){$label=$("<label>").append($("<input>",{type:"checkbox",value:this.sourceData[i].value})).append($("<span>").text(" "+this.sourceData[i].text));$("<div>").append($label).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(value){return $.isArray(value)?value.sort().join($.trim(this.options.separator)):""},str2value:function(str){var reg,value=null;if(typeof str==="string"&&str.length){reg=new RegExp("\\s*"+$.trim(this.options.separator)+"\\s*");value=str.split(reg)}else{if($.isArray(str)){value=str}else{value=[str]}}return value},value2input:function(value){this.$input.prop("checked",false);if($.isArray(value)&&value.length){this.$input.each(function(i,el){var $el=$(el);$.each(value,function(j,val){if($el.val()==val){$el.prop("checked",true)}})})}},input2value:function(){var checked=[];this.$input.filter(":checked").each(function(i,el){checked.push($(el).val())});return checked},value2htmlFinal:function(value,element){var html=[],checked=$.fn.editableutils.itemsByValue(value,this.sourceData),escape=this.options.escape;if(checked.length){$.each(checked,function(i,v){var text=escape?$.fn.editableutils.escape(v.text):v.text;html.push(text)});$(element).html(html.join("<br>"))}else{$(element).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){if(e.which===13){$(this).closest("form").submit()}})}});Checklist.defaults=$.extend({},$.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}); $.fn.editabletypes.checklist=Checklist}(window.jQuery));(function($){var Password=function(options){this.init("password",options,Password.defaults)};$.fn.editableutils.inherit(Password,$.fn.editabletypes.text);$.extend(Password.prototype,{value2html:function(value,element){if(value){$(element).text("[hidden]")}else{$(element).empty()}},html2value:function(html){return null}});Password.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});$.fn.editabletypes.password=Password}(window.jQuery));(function($){var Email=function(options){this.init("email",options,Email.defaults)};$.fn.editableutils.inherit(Email,$.fn.editabletypes.text);Email.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});$.fn.editabletypes.email=Email}(window.jQuery));(function($){var Url=function(options){this.init("url",options,Url.defaults)};$.fn.editableutils.inherit(Url,$.fn.editabletypes.text);Url.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});$.fn.editabletypes.url=Url}(window.jQuery));(function($){var Tel=function(options){this.init("tel",options,Tel.defaults)};$.fn.editableutils.inherit(Tel,$.fn.editabletypes.text);Tel.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});$.fn.editabletypes.tel=Tel}(window.jQuery));(function($){var NumberInput=function(options){this.init("number",options,NumberInput.defaults)};$.fn.editableutils.inherit(NumberInput,$.fn.editabletypes.text);$.extend(NumberInput.prototype,{render:function(){NumberInput.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});NumberInput.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});$.fn.editabletypes.number=NumberInput}(window.jQuery));(function($){var Range=function(options){this.init("range",options,Range.defaults)};$.fn.editableutils.inherit(Range,$.fn.editabletypes.number);$.extend(Range.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){$(this).siblings("output").text($(this).val())})},activate:function(){this.$input.focus()}});Range.defaults=$.extend({},$.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});$.fn.editabletypes.range=Range}(window.jQuery));(function($){var Time=function(options){this.init("time",options,Time.defaults)};$.fn.editableutils.inherit(Time,$.fn.editabletypes.abstractinput);$.extend(Time.prototype,{render:function(){this.setClass()}});Time.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});$.fn.editabletypes.time=Time}(window.jQuery));(function($){var Constructor=function(options){this.init("select2",options,Constructor.defaults);options.select2=options.select2||{};this.sourceData=null;if(options.placeholder){options.select2.placeholder=options.placeholder}if(!options.select2.tags&&options.source){var source=options.source;if($.isFunction(options.source)){source=options.source.call(options.scope)}if(typeof source==="string"){options.select2.ajax=options.select2.ajax||{};if(!options.select2.ajax.data){options.select2.ajax.data=function(term){return{query:term}}}if(!options.select2.ajax.results){options.select2.ajax.results=function(data){return{results:data}}}options.select2.ajax.url=source}else{this.sourceData=this.convertSource(source);options.select2.data=this.sourceData}}this.options.select2=$.extend({},Constructor.defaults.select2,options.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote=("ajax" in this.options.select2);this.idFunc=this.options.select2.id;if(typeof(this.idFunc)!=="function"){var idKey=this.idFunc||"id";this.idFunc=function(e){return e[idKey]}}this.formatSelection=this.options.select2.formatSelection;if(typeof(this.formatSelection)!=="function"){this.formatSelection=function(e){return e.text}}};$.fn.editableutils.inherit(Constructor,$.fn.editabletypes.abstractinput);$.extend(Constructor.prototype,{render:function(){this.setClass();if(this.isRemote){this.$input.on("select2-loaded",$.proxy(function(e){this.sourceData=e.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){$(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(value,element){var text="",data,that=this;if(this.options.select2.tags){data=value}else{if(this.sourceData){data=$.fn.editableutils.itemsByValue(value,this.sourceData,this.idFunc)}else{}}if($.isArray(data)){text=[];$.each(data,function(k,v){text.push(v&&typeof v==="object"?that.formatSelection(v):v)})}else{if(data){text=that.formatSelection(data)}}text=$.isArray(text)?text.join(this.options.viewseparator):text;Constructor.superclass.value2html.call(this,text,element) },html2value:function(html){return this.options.select2.tags?this.str2value(html,this.options.viewseparator):null},value2input:function(value){if($.isArray(value)){value=value.join(this.getSeparator())}if(!this.$input.data("select2")){this.$input.val(value);this.$input.select2(this.options.select2)}else{this.$input.val(value).trigger("change",true)}if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var customId=this.options.select2.id,customText=this.options.select2.formatSelection;if(!customId&&!customText){var $el=$(this.options.scope);if(!$el.data("editable").isEmpty){var data={id:value,text:$el.text()};this.$input.select2("data",data)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(str,separator){if(typeof str!=="string"||!this.isMultiple){return str}separator=separator||this.getSeparator();var val,i,l;if(str===null||str.length<1){return null}val=str.split(separator);for(i=0,l=val.length;i<l;i=i+1){val[i]=$.trim(val[i])}return val},autosubmit:function(){this.$input.on("change",function(e,isInitial){if(!isInitial){$(this).closest("form").submit()}})},getSeparator:function(){return this.options.select2.separator||$.fn.select2.defaults.separator},convertSource:function(source){if($.isArray(source)&&source.length&&source[0].value!==undefined){for(var i=0;i<source.length;i++){if(source[i].value!==undefined){source[i].id=source[i].value;delete source[i].value}}}return source},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});Constructor.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});$.fn.editabletypes.select2=Constructor}(window.jQuery));(function($){var Combodate=function(element,options){this.$element=$(element);if(!this.$element.is("input")){$.error("Combodate should be applied to INPUT element");return}this.options=$.extend({},$.fn.combodate.defaults,options,this.$element.data());this.init()};Combodate.prototype={constructor:Combodate,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=$('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",$.proxy(function(e){this.$element.val(this.getValue()).change();if(this.options.smartDays){if($(e.target).is(".month")||$(e.target).is(".year")){this.fillCombo("day")}}},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var tpl=this.options.template;$.each(this.map,function(k,v){v=v[0];var r=new RegExp(v+"+"),token=v.length>1?v.substring(1,2):v;tpl=tpl.replace(r,"{"+token+"}")});tpl=tpl.replace(/ /g,"&nbsp;");$.each(this.map,function(k,v){v=v[0];var token=v.length>1?v.substring(1,2):v;tpl=tpl.replace("{"+token+"}",'<select class="'+k+'"></select>')});return tpl},initCombos:function(){for(var k in this.map){var $c=this.$widget.find("."+k);this["$"+k]=$c.length?$c:null;this.fillCombo(k)}},fillCombo:function(k){var $combo=this["$"+k];if(!$combo){return}var f="fill"+k.charAt(0).toUpperCase()+k.slice(1);var items=this[f]();var value=$combo.val();$combo.empty();for(var i=0;i<items.length;i++){$combo.append('<option value="'+items[i][0]+'">'+items[i][1]+"</option>")}$combo.val(value)},fillCommon:function(key){var values=[],relTime;if(this.options.firstItem==="name"){relTime=moment.relativeTime||moment.langData()._relativeTime;var header=typeof relTime[key]==="function"?relTime[key](1,true,key,false):relTime[key];header=header.split(" ").reverse()[0];values.push(["",header])}else{if(this.options.firstItem==="empty"){values.push(["",""])}}return values},fillDay:function(){var items=this.fillCommon("d"),name,i,twoDigit=this.options.template.indexOf("DD")!==-1,daysCount=31;if(this.options.smartDays&&this.$month&&this.$year){var month=parseInt(this.$month.val(),10);var year=parseInt(this.$year.val(),10);if(!isNaN(month)&&!isNaN(year)){daysCount=moment([year,month]).daysInMonth()}}for(i=1;i<=daysCount;i++){name=twoDigit?this.leadZero(i):i;items.push([i,name])}return items},fillMonth:function(){var items=this.fillCommon("M"),name,i,longNames=this.options.template.indexOf("MMMM")!==-1,shortNames=this.options.template.indexOf("MMM")!==-1,twoDigit=this.options.template.indexOf("MM")!==-1;for(i=0;i<=11;i++){if(longNames){name=moment().date(1).month(i).format("MMMM")}else{if(shortNames){name=moment().date(1).month(i).format("MMM")}else{if(twoDigit){name=this.leadZero(i+1)}else{name=i+1}}}items.push([i,name])}return items},fillYear:function(){var items=[],name,i,longNames=this.options.template.indexOf("YYYY")!==-1;for(i=this.options.maxYear;i>=this.options.minYear;i--){name=longNames?i:(i+"").substring(2);items[this.options.yearDescending?"push":"unshift"]([i,name])}items=this.fillCommon("y").concat(items); return items},fillHour:function(){var items=this.fillCommon("h"),name,i,h12=this.options.template.indexOf("h")!==-1,h24=this.options.template.indexOf("H")!==-1,twoDigit=this.options.template.toLowerCase().indexOf("hh")!==-1,min=h12?1:0,max=h12?12:23;for(i=min;i<=max;i++){name=twoDigit?this.leadZero(i):i;items.push([i,name])}return items},fillMinute:function(){var items=this.fillCommon("m"),name,i,twoDigit=this.options.template.indexOf("mm")!==-1;for(i=0;i<=59;i+=this.options.minuteStep){name=twoDigit?this.leadZero(i):i;items.push([i,name])}return items},fillSecond:function(){var items=this.fillCommon("s"),name,i,twoDigit=this.options.template.indexOf("ss")!==-1;for(i=0;i<=59;i+=this.options.secondStep){name=twoDigit?this.leadZero(i):i;items.push([i,name])}return items},fillAmpm:function(){var ampmL=this.options.template.indexOf("a")!==-1,ampmU=this.options.template.indexOf("A")!==-1,items=[["am",ampmL?"am":"AM"],["pm",ampmL?"pm":"PM"]];return items},getValue:function(format){var dt,values={},that=this,notSelected=false;$.each(this.map,function(k,v){if(k==="ampm"){return}var def=k==="day"?1:0;values[k]=that["$"+k]?parseInt(that["$"+k].val(),10):def;if(isNaN(values[k])){notSelected=true;return false}});if(notSelected){return""}if(this.$ampm){if(values.hour===12){values.hour=this.$ampm.val()==="am"?0:12}else{values.hour=this.$ampm.val()==="am"?values.hour:values.hour+12}}dt=moment([values.year,values.month,values.day,values.hour,values.minute,values.second]);this.highlight(dt);format=format===undefined?this.options.format:format;if(format===null){return dt.isValid()?dt:null}else{return dt.isValid()?dt.format(format):""}},setValue:function(value){if(!value){return}var dt=typeof value==="string"?moment(value,this.options.format):moment(value),that=this,values={};function getNearest($select,value){var delta={};$select.children("option").each(function(i,opt){var optValue=$(opt).attr("value"),distance;if(optValue===""){return}distance=Math.abs(optValue-value);if(typeof delta.distance==="undefined"||distance<delta.distance){delta={value:optValue,distance:distance}}});return delta.value}if(dt.isValid()){$.each(this.map,function(k,v){if(k==="ampm"){return}values[k]=dt[v[1]]()});if(this.$ampm){if(values.hour>=12){values.ampm="pm";if(values.hour>12){values.hour-=12}}else{values.ampm="am";if(values.hour===0){values.hour=12}}}$.each(values,function(k,v){if(that["$"+k]){if(k==="minute"&&that.options.minuteStep>1&&that.options.roundTime){v=getNearest(that["$"+k],v)}if(k==="second"&&that.options.secondStep>1&&that.options.roundTime){v=getNearest(that["$"+k],v)}that["$"+k].val(v)}});if(this.options.smartDays){this.fillCombo("day")}this.$element.val(dt.format(this.options.format)).change()}},highlight:function(dt){if(!dt.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(v){return v<=9?"0"+v:v},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};$.fn.combodate=function(option){var d,args=Array.apply(null,arguments);args.shift();if(option==="getValue"&&this.length&&(d=this.eq(0).data("combodate"))){return d.getValue.apply(d,args)}return this.each(function(){var $this=$(this),data=$this.data("combodate"),options=typeof option=="object"&&option;if(!data){$this.data("combodate",(data=new Combodate(this,options)))}if(typeof option=="string"&&typeof data[option]=="function"){data[option].apply(data,args)}})};$.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:new Date().getFullYear(),yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:true,smartDays:false}}(window.jQuery));(function($){var Constructor=function(options){this.init("combodate",options,Constructor.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}options.combodate=$.fn.editableutils.tryParseJson(options.combodate,true);this.options.combodate=$.extend({},Constructor.defaults.combodate,options.combodate,{format:this.options.format,template:this.options.template})};$.fn.editableutils.inherit(Constructor,$.fn.editabletypes.abstractinput);$.extend(Constructor.prototype,{render:function(){this.$input.combodate(this.options.combodate);if($.fn.editableform.engine==="bs3"){this.$input.siblings().find("select").addClass("form-control")}if(this.options.inputclass){this.$input.siblings().find("select").addClass(this.options.inputclass)}},value2html:function(value,element){var text=value?value.format(this.options.viewformat):"";Constructor.superclass.value2html.call(this,text,element)},html2value:function(html){return html?moment(html,this.options.viewformat):null},value2str:function(value){return value?value.format(this.options.format):""},str2value:function(str){return str?moment(str,this.options.format):null},value2submit:function(value){return this.value2str(value)},value2input:function(value){this.$input.combodate("setValue",value)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});Constructor.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});$.fn.editabletypes.combodate=Constructor}(window.jQuery));(function($){var pInitInput=$.fn.editableform.Constructor.prototype.initInput;$.extend($.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=$($.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){pInitInput.apply(this);var emptyInputClass=this.input.options.inputclass===null||this.input.options.inputclass===false;var defaultClass="input-sm";var stdtypes="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");if(~$.inArray(this.input.type,stdtypes)){this.input.$input.addClass("form-control");if(emptyInputClass){this.input.options.inputclass=defaultClass;this.input.$input.addClass(defaultClass)}}var $btn=this.$form.find(".editable-buttons");var classes=emptyInputClass?[defaultClass]:this.input.options.inputclass.split(" ");for(var i=0;i<classes.length;i++){if(classes[i].toLowerCase()==="input-lg"){$btn.find("button").removeClass("btn-sm").addClass("btn-lg")}}}});$.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit">'+'<i class="glyphicon glyphicon-ok"></i>'+"</button>"+'<button type="button" class="btn btn-default btn-sm editable-cancel">'+'<i class="glyphicon glyphicon-remove"></i>'+"</button>";$.fn.editableform.errorGroupClass="has-error";$.fn.editableform.errorBlockClass=null;$.fn.editableform.engine="bs3"}(window.jQuery));(function($){$.extend($.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:$.fn.popover.Constructor.DEFAULTS,initContainer:function(){$.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:this.defaults.template});var t;if(this.$element.data("template")){t=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(t){this.$element.data("template",t)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(key,value){this.container().options[key]=value},setPosition:function(){(function(){var $tip=this.tip();var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace){placement=placement.replace(autoToken,"")||"top"}var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent();var orgPlacement=placement;var docScroll=document.documentElement.scrollTop||document.body.scrollTop;var parentWidth=this.options.container=="body"?window.innerWidth:$parent.outerWidth();var parentHeight=this.options.container=="body"?window.innerHeight:$parent.outerHeight();var parentLeft=this.options.container=="body"?0:$parent.offset().left;placement=placement=="bottom"&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":placement=="top"&&pos.top-docScroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentWidth?"left":placement=="left"&&pos.left-actualWidth<parentLeft?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement)}).call(this.container())}})}(window.jQuery));(function($){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date();return UTCDate(today.getUTCFullYear(),today.getUTCMonth(),today.getUTCDate())}var Datepicker=function(element,options){var that=this;this._process_options(options);this.element=$(element);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=$(DPGlobal.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right") }this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(i,val){return parseInt(val)+1})}this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};Datepicker.prototype={constructor:Datepicker,_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o);var lang=o.language;if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang]){lang=defaults.language}}o.language=lang;switch(o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode);o.weekStart%=7;o.weekEnd=((o.weekStart+6)%7);var format=DPGlobal.parseFormat(o.format);if(o.startDate!==-Infinity){o.startDate=DPGlobal.parseDate(o.startDate,format,o.language)}if(o.endDate!==Infinity){o.endDate=DPGlobal.parseDate(o.endDate,format,o.language)}o.daysOfWeekDisabled=o.daysOfWeekDisabled||[];if(!$.isArray(o.daysOfWeekDisabled)){o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)}o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var i=0,el,ev;i<evs.length;i++){el=evs[i][0];ev=evs[i][1];el.on(ev)}},_unapplyEvents:function(evs){for(var i=0,el,ev;i<evs.length;i++){el=evs[i][0];ev=evs[i][1];el.off(ev)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:$.proxy(this.show,this)}]]}}}this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{mousedown:$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){var date=altdate||this.date,local_date=new Date(date.getTime()+(date.getTimezoneOffset()*60000));this.element.trigger({type:event,date:local_date,format:$.proxy(function(altformat){var format=altformat||this.o.format;return DPGlobal.formatDate(date,format,this.o.language)},this)})},show:function(e){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(e){e.preventDefault()}this._trigger("show")},hide:function(e){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var d=this.getUTCDate();return new Date(d.getTime()+(d.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(d){this.setUTCDate(new Date(d.getTime()-(d.getTimezoneOffset()*60000)))},setUTCDate:function(d){this.date=d;this.setValue()},setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(formatted)}}else{this.element.val(formatted)}},getFormattedDate:function(format){if(format===undefined){format=this.o.format}return DPGlobal.formatDate(this.date,format,this.o.language)},setStartDate:function(startDate){this._process_options({startDate:startDate});this.update();this.updateNavArrows()},setEndDate:function(endDate){this._process_options({endDate:endDate});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled:daysOfWeekDisabled});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var zIndex=parseInt(this.element.parents().filter(function(){return $(this).css("z-index")!="auto"}).first().css("z-index"))+10;var offset=this.component?this.component.parent().offset():this.element.offset();var height=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:offset.top+height,left:offset.left,zIndex:zIndex})},_allow_update:true,update:function(){if(!this._allow_update){return}var date,fromArgs=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){date=arguments[0];fromArgs=true}else{date=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=DPGlobal.parseDate(date,this.o.format,this.o.language);if(fromArgs){this.setValue()}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var dowCnt=this.o.weekStart,html="<tr>";if(this.o.calendarWeeks){var cell='<th class="cw">&nbsp;</th>';html+=cell;this.picker.find(".datepicker-days thead tr:first-child").prepend(cell)}while(dowCnt<this.o.weekStart+7){html+='<th class="dow">'+dates[this.o.language].daysMin[(dowCnt++)%7]+"</th>"}html+="</tr>";this.picker.find(".datepicker-days thead").append(html)},fillMonths:function(){var html="",i=0;while(i<12){html+='<span class="month">'+dates[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(html)},setRange:function(range){if(!range||!range.length){delete this.range}else{this.range=$.map(range,function(d){return d.valueOf()})}this.fill()},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),currentDate=this.date.valueOf(),today=new Date();if(date.getUTCFullYear()<year||(date.getUTCFullYear()==year&&date.getUTCMonth()<month)){cls.push("old")}else{if(date.getUTCFullYear()>year||(date.getUTCFullYear()==year&&date.getUTCMonth()>month)){cls.push("new")}}if(this.o.todayHighlight&&date.getUTCFullYear()==today.getFullYear()&&date.getUTCMonth()==today.getMonth()&&date.getUTCDate()==today.getDate()){cls.push("today")}if(currentDate&&date.valueOf()==currentDate){cls.push("active")}if(date.valueOf()<this.o.startDate||date.valueOf()>this.o.endDate||$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){cls.push("disabled")}if(this.range){if(date>this.range[0]&&date<this.range[this.range.length-1]){cls.push("range")}if($.inArray(date.valueOf(),this.range)!=-1){cls.push("selected")}}return cls},fill:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,currentDate=this.date&&this.date.valueOf(),tooltip;this.picker.find(".datepicker-days thead th.datepicker-switch").text(dates[this.o.language].months[month]+" "+year);this.picker.find("tfoot th.today").text(dates[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(dates[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()==this.o.weekStart){html.push("<tr>");if(this.o.calendarWeeks){var ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*86400000),th=new Date(+ws+(7+4-ws.getUTCDay())%7*86400000),yth=new Date(+(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*86400000),calWeek=(th-yth)/86400000/7+1;html.push('<td class="cw">'+calWeek+"</td>")}}clsName=this.getClassNames(prevMonth);clsName.push("day");var before=this.o.beforeShowDay(prevMonth);if(before===undefined){before={}}else{if(typeof(before)==="boolean"){before={enabled:before}}else{if(typeof(before)==="string"){before={classes:before}}}}if(before.enabled===false){clsName.push("disabled")}if(before.classes){clsName=clsName.concat(before.classes.split(/\s+/))}if(before.tooltip){tooltip=before.tooltip}clsName=$.unique(clsName);html.push('<td class="'+clsName.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+prevMonth.getUTCDate()+"</td>");if(prevMonth.getUTCDay()==this.o.weekEnd){html.push("</tr>")}prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var currentYear=this.date&&this.date.getUTCFullYear();var months=this.picker.find(".datepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active"); if(currentYear&&currentYear==year){months.eq(this.date.getUTCMonth()).addClass("active")}if(year<startYear||year>endYear){months.addClass("disabled")}if(year==startYear){months.slice(0,startMonth).addClass("disabled")}if(year==endYear){months.slice(endMonth+1).addClass("disabled")}html="";year=parseInt(year/10,10)*10;var yearCont=this.picker.find(".datepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");year-=1;for(var i=-1;i<11;i++){html+='<span class="year'+(i==-1?" old":i==10?" new":"")+(currentYear==year?" active":"")+(year<startYear||year>endYear?" disabled":"")+'">'+year+"</span>";year+=1}yearCont.html(html)},updateNavArrows:function(){if(!this._allow_update){return}var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(e){e.preventDefault();var target=$(e.target).closest("span, td, th");if(target.length==1){switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,dir);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,dir);break}this.fill();break;case"today":var date=new Date();date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);this.showMode(-2);var which=this.o.todayBtn=="linked"?null:"view";this._setDate(date,which);break;case"clear":var element;if(this.isInput){element=this.element}else{if(this.component){element=this.element.find("input")}}if(element){element.val("").change()}this._trigger("changeDate");this.update();if(this.o.autoclose){this.hide()}break}break;case"span":if(!target.is(".disabled")){this.viewDate.setUTCDate(1);if(target.is(".month")){var day=1;var month=target.parent().find("span").index(target);var year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(UTCDate(year,month,day,0,0,0,0))}}else{var year=parseInt(target.text(),10)||0;var day=1;var month=0;this.viewDate.setUTCFullYear(year);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(UTCDate(year,month,day,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(target.is(".day")&&!target.is(".disabled")){var day=parseInt(target.text(),10)||1;var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth();if(target.is(".old")){if(month===0){month=11;year-=1}else{month-=1}}else{if(target.is(".new")){if(month==11){month=0;year+=1}else{month+=1}}}this._setDate(UTCDate(year,month,day,0,0,0,0))}break}}},_setDate:function(date,which){if(!which||which=="date"){this.date=new Date(date)}if(!which||which=="view"){this.viewDate=new Date(date)}this.fill();this.setValue();this._trigger("changeDate");var element;if(this.isInput){element=this.element}else{if(this.component){element=this.element.find("input")}}if(element){element.change();if(this.o.autoclose&&(!which||which=="date")){this.hide()}}},moveMonth:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag==1){test=dir==-1?function(){return new_date.getUTCMonth()==month}:function(){return new_date.getUTCMonth()!=new_month};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11){new_month=(new_month+12)%12}}else{for(var i=0;i<mag;i++){new_date=this.moveMonth(new_date,dir)}new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!=new_date.getUTCMonth()}}while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)}return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode==27){this.show()}return}var dateChanged=false,dir,day,month,newDate,newViewDate;switch(e.keyCode){case 27:this.hide();e.preventDefault(); break;case 37:case 39:if(!this.o.keyboardNavigation){break}dir=e.keyCode==37?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(e.shiftKey){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{newDate=new Date(this.date);newDate.setUTCDate(this.date.getUTCDate()+dir);newViewDate=new Date(this.viewDate);newViewDate.setUTCDate(this.viewDate.getUTCDate()+dir)}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 38:case 40:if(!this.o.keyboardNavigation){break}dir=e.keyCode==38?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(e.shiftKey){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{newDate=new Date(this.date);newDate.setUTCDate(this.date.getUTCDate()+dir*7);newViewDate=new Date(this.viewDate);newViewDate.setUTCDate(this.viewDate.getUTCDate()+dir*7)}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 13:this.hide();e.preventDefault();break;case 9:this.hide();break}if(dateChanged){this._trigger("changeDate");var element;if(this.isInput){element=this.element}else{if(this.component){element=this.element.find("input")}}if(element){element.change()}}},showMode:function(dir){if(dir){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+dir))}this.picker.find(">div").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var DateRangePicker=function(element,options){this.element=$(element);this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i});delete options.inputs;$(this.inputs).datepicker(options).bind("changeDate",$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $(i).data("datepicker")});this.updateDates()};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.date});this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},dateUpdated:function(e){var dp=$(e.target).data("datepicker"),new_date=dp.getUTCDate(),i=$.inArray(e.target,this.inputs),l=this.inputs.length;if(i==-1){return}if(new_date<this.dates[i]){while(i>=0&&new_date<this.dates[i]){this.pickers[i--].setUTCDate(new_date)}}else{if(new_date>this.dates[i]){while(i<l&&new_date>this.dates[i]){this.pickers[i++].setUTCDate(new_date)}}}this.updateDates()},remove:function(){$.map(this.pickers,function(p){p.remove()});delete this.element.data().datepicker}};function opts_from_el(el,prefix){var data=$(el).data(),out={},inkey,replace=new RegExp("^"+prefix.toLowerCase()+"([A-Z])"),prefix=new RegExp("^"+prefix.toLowerCase());for(var key in data){if(prefix.test(key)){inkey=key.replace(replace,function(_,a){return a.toLowerCase()});out[inkey]=data[key]}}return out}function opts_from_locale(lang){var out={};if(!dates[lang]){lang=lang.split("-")[0];if(!dates[lang]){return}}var d=dates[lang];$.each(locale_opts,function(i,k){if(k in d){out[k]=d[k]}});return out}var old=$.fn.datepicker;var datepicker=$.fn.datepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return,this_return;this.each(function(){var $this=$(this),data=$this.data("datepicker"),options=typeof option=="object"&&option;if(!data){var elopts=opts_from_el(this,"date"),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);if($this.is(".input-daterange")||opts.inputs){var ropts={inputs:opts.inputs||$this.find("input").toArray()};$this.data("datepicker",(data=new DateRangePicker(this,$.extend(opts,ropts))))}else{$this.data("datepicker",(data=new Datepicker(this,opts)))}}if(typeof option=="string"&&typeof data[option]=="function"){internal_return=data[option].apply(data,args);if(internal_return!==undefined){return false}}});if(internal_return!==undefined){return internal_return}else{return this}};var defaults=$.fn.datepicker.defaults={autoclose:false,beforeShowDay:$.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var locale_opts=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}}; var DPGlobal={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0))},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(format){var separators=format.replace(this.validParts,"\0").split("\0"),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||parts.length===0){throw new Error("Invalid date format.")}return{separators:separators,parts:parts}},parseDate:function(date,format,language){if(date instanceof Date){return date}if(typeof format==="string"){format=DPGlobal.parseFormat(format)}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){var part_re=/([\-+]\d+)([dmwy])/,parts=date.match(/([\-+]\d+)([dmwy])/g),part,dir;date=new Date();for(var i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case"d":date.setUTCDate(date.getUTCDate()+dir);break;case"m":date=Datepicker.prototype.moveMonth.call(Datepicker.prototype,date,dir);break;case"w":date.setUTCDate(date.getUTCDate()+dir*7);break;case"y":date=Datepicker.prototype.moveYear.call(Datepicker.prototype,date,dir);break}}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),0,0,0)}var parts=date&&date.match(this.nonpunctuation)||[],date=new Date(),parsed={},setters_order=["yyyy","yy","M","MM","m","mm","d","dd"],setters_map={yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2000+v)},m:function(d,v){v-=1;while(v<0){v+=12}v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!=v){d.setUTCDate(d.getUTCDate()-1)}return d},d:function(d,v){return d.setUTCDate(v)}},val,filtered,part;setters_map["M"]=setters_map["MM"]=setters_map["mm"]=setters_map["m"];setters_map["dd"]=setters_map["d"];date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);var fparts=format.parts.slice();if(parts.length!=fparts.length){fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1}).toArray()}if(parts.length==fparts.length){for(var i=0,cnt=fparts.length;i<cnt;i++){val=parseInt(parts[i],10);part=fparts[i];if(isNaN(val)){switch(part){case"MM":filtered=$(dates[language].months).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p});val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p});val=$.inArray(filtered[0],dates[language].monthsShort)+1;break}}parsed[part]=val}for(var i=0,s;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){setters_map[s](date,parsed[s])}}}return date},formatDate:function(date,format,language){if(typeof format==="string"){format=DPGlobal.parseFormat(format)}var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?"0":"")+val.d;val.mm=(val.m<10?"0":"")+val.m;var date=[],seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<=cnt;i++){if(seps.length){date.push(seps.shift())}date.push(val[format.parts[i]])}return date.join("")},headTemplate:"<thead>"+"<tr>"+'<th class="prev"><i class="icon-arrow-left"/></th>'+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next"><i class="icon-arrow-right"/></th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};DPGlobal.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table>"+"</div>"+"</div>";$.fn.datepicker.DPGlobal=DPGlobal;$.fn.datepicker.noConflict=function(){$.fn.datepicker=old;return this};$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var $this=$(this);if($this.data("datepicker")){return}e.preventDefault();datepicker.call($this,"show")});$(function(){datepicker.call($('[data-provide="datepicker-inline"]'))})}(window.jQuery));(function($){$.fn.bdatepicker=$.fn.datepicker.noConflict();if(!$.fn.datepicker){$.fn.datepicker=$.fn.bdatepicker }var Date=function(options){this.init("date",options,Date.defaults);this.initPicker(options,Date.defaults)};$.fn.editableutils.inherit(Date,$.fn.editabletypes.abstractinput);$.extend(Date.prototype,{initPicker:function(options,defaults){if(!this.options.viewformat){this.options.viewformat=this.options.format}options.datepicker=$.fn.editableutils.tryParseJson(options.datepicker,true);this.options.datepicker=$.extend({},defaults.datepicker,options.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=$.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=$('<a href="#"></a>').html(this.options.clear).click($.proxy(function(e){e.preventDefault();e.stopPropagation();this.clear()},this));this.$tpl.parent().append($('<div class="editable-clear">').append(this.$clear))}},value2html:function(value,element){var text=value?this.dpg.formatDate(value,this.parsedViewFormat,this.options.datepicker.language):"";Date.superclass.value2html.call(this,text,element)},html2value:function(html){return this.parseDate(html,this.parsedViewFormat)},value2str:function(value){return value?this.dpg.formatDate(value,this.parsedFormat,this.options.datepicker.language):""},str2value:function(str){return this.parseDate(str,this.parsedFormat)},value2submit:function(value){return this.value2str(value)},value2input:function(value){this.$input.bdatepicker("update",value)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if($(e.currentTarget).is(".old")||$(e.currentTarget).is(".new")){return}var $form=$(this).closest("form");setTimeout(function(){$form.submit()},200)})},parseDate:function(str,format){var date=null,formattedBack;if(str){date=this.dpg.parseDate(str,format,this.options.datepicker.language);if(typeof str==="string"){formattedBack=this.dpg.formatDate(date,format,this.options.datepicker.language);if(str!==formattedBack){date=null}}}return date}});Date.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});$.fn.editabletypes.date=Date}(window.jQuery));(function($){var DateField=function(options){this.init("datefield",options,DateField.defaults);this.initPicker(options,DateField.defaults)};$.fn.editableutils.inherit(DateField,$.fn.editabletypes.date);$.extend(DateField.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup($.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(value){this.$input.val(value?this.dpg.formatDate(value,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});DateField.defaults=$.extend({},$.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});$.fn.editabletypes.datefield=DateField}(window.jQuery));(function($){var DateTime=function(options){this.init("datetime",options,DateTime.defaults);this.initPicker(options,DateTime.defaults)};$.fn.editableutils.inherit(DateTime,$.fn.editabletypes.abstractinput);$.extend(DateTime.prototype,{initPicker:function(options,defaults){if(!this.options.viewformat){this.options.viewformat=this.options.format}options.datetimepicker=$.fn.editableutils.tryParseJson(options.datetimepicker,true);this.options.datetimepicker=$.extend({},defaults.datetimepicker,options.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=$.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(e){var f=$(this).closest("form").parent();setTimeout(function(){f.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=$('<a href="#"></a>').html(this.options.clear).click($.proxy(function(e){e.preventDefault(); e.stopPropagation();this.clear()},this));this.$tpl.parent().append($('<div class="editable-clear">').append(this.$clear))}},value2html:function(value,element){var text=value?this.dpg.formatDate(this.toUTC(value),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(element){DateTime.superclass.value2html.call(this,text,element)}else{return text}},html2value:function(html){var value=this.parseDate(html,this.parsedViewFormat);return value?this.fromUTC(value):null},value2str:function(value){return value?this.dpg.formatDate(this.toUTC(value),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(str){var value=this.parseDate(str,this.parsedFormat);return value?this.fromUTC(value):null},value2submit:function(value){return this.value2str(value)},value2input:function(value){if(value){this.$input.data("datetimepicker").setDate(value)}},input2value:function(){var dt=this.$input.data("datetimepicker");return dt.date?dt.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(e){var $form=$(this).closest("form");setTimeout(function(){$form.submit()},200)})},toUTC:function(value){return value?new Date(value.valueOf()-value.getTimezoneOffset()*60000):value},fromUTC:function(value){return value?new Date(value.valueOf()+value.getTimezoneOffset()*60000):value},parseDate:function(str,format){var date=null,formattedBack;if(str){date=this.dpg.parseDate(str,format,this.options.datetimepicker.language,this.options.formatType);if(typeof str==="string"){formattedBack=this.dpg.formatDate(date,format,this.options.datetimepicker.language,this.options.formatType);if(str!==formattedBack){date=null}}}return date}});DateTime.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:"&times; clear"});$.fn.editabletypes.datetime=DateTime}(window.jQuery));(function($){var DateTimeField=function(options){this.init("datetimefield",options,DateTimeField.defaults);this.initPicker(options,DateTimeField.defaults)};$.fn.editableutils.inherit(DateTimeField,$.fn.editabletypes.datetime);$.extend(DateTimeField.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup($.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(value){this.$input.val(this.value2html(value));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});DateTimeField.defaults=$.extend({},$.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});$.fn.editabletypes.datetimefield=DateTimeField}(window.jQuery));
/* bootstrap-table-editable.js */!function(b){b.extend(b.fn.bootstrapTable.defaults,{editable:!0,onEditableInit:function(){return!1},onEditableSave:function(){return!1},onEditableShown:function(){return!1},onEditableHidden:function(){return!1}});b.extend(b.fn.bootstrapTable.Constructor.EVENTS,{"editable-init.bs.table":"onEditableInit","editable-save.bs.table":"onEditableSave","editable-shown.bs.table":"onEditableShown","editable-hidden.bs.table":"onEditableHidden"});var d=b.fn.bootstrapTable.Constructor,h=d.prototype.initTable,k=d.prototype.initBody;d.prototype.initTable=function(){var c=this;h.apply(this,Array.prototype.slice.apply(arguments));this.options.editable&&b.each(this.columns,function(d,a){if(a.editable){var i={},g=[],e=function(a,b){var c=a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()});"editable-"==c.slice(0,9)&&(c=c.replace("editable-","data-"),i[c]=b)};b.each(c.options,e);var f=a.formatter;a.formatter=function(d,j,h){d=f?f(d,j,h):d;b.each(a,e);b.each(i,function(a,b){g.push(" "+a+'="'+b+'"')});return['<a href="javascript:void(0)"',' data-name="'+a.field+'"',' data-pk="'+j[c.options.idField]+'"',' data-value="'+d+'"',g.join(""),"></a>"].join("")}}})};d.prototype.initBody=function(){var c=this;k.apply(this,Array.prototype.slice.apply(arguments));this.options.editable&&(b.each(this.columns,function(d,a){a.editable&&(c.$body.find('a[data-name="'+a.field+'"]').editable(a.editable).off("save").on("save",function(d,g){var e=c.getData(),f=b(this).parents("tr[data-index]").data("index"),e=e[f],f=e[a.field];b(this).data("value",g.submitValue);e[a.field]=g.submitValue;c.trigger("editable-save",a.field,e,f,b(this))}),c.$body.find('a[data-name="'+a.field+'"]').editable(a.editable).off("shown").on("shown",function(d,g){var e=c.getData(),f=b(this).parents("tr[data-index]").data("index");c.trigger("editable-shown",a.field,e[f],b(this),g)}),c.$body.find('a[data-name="'+a.field+'"]').editable(a.editable).off("hidden").on("hidden",function(d,g){var e=c.getData(),f=b(this).parents("tr[data-index]").data("index");c.trigger("editable-hidden",a.field,e[f],b(this),g)}))}),this.trigger("editable-init"))}}(jQuery);
